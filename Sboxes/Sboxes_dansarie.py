from projectq.ops import H, CNOT, Measure, Toffoli, X, All, Swap, Z, T, Tdagger, S, Tdag
from projectq import MainEngine
from projectq.backends import ResourceCounter, ClassicalSimulator, IBMBackend
from projectq.meta import Loop, Compute, Uncompute, Control

def Sbox(eng):

    n = 8
    in_b = eng.allocate_qureg(n) # input
    out = eng.allocate_qureg(n) # output

    # Ancilla qubits
    bit_t = eng.allocate_qureg(1000)  #

    if(resource_check != 1):
        Round_constant_XOR(eng, in_b, 0x00, n)
        All(Measure) | in_b
        for i in range(8):
            print(int(in_b[n - 1 - i]), end=' ')

    #AES_Sbox0(eng, in_b, bit_t, out)
    #AES_Sbox1(eng, in_b, bit_t, out)
    #AES_Sbox2(eng, in_b, bit_t, out)
    #AES_Sbox3(eng, in_b, bit_t, out)
    #AES_Sbox4(eng, in_b, bit_t, out)

    if (resource_check != 1):
        print('Sbox: ')
        All(Measure) | out
        for i in range(8):
            print(int(out[n - 1 - i]), end=' ')

def CNOT2(eng, c, a, b):
    CNOT | (a, c)
    CNOT | (b, c)

def XCNOT(eng, b, a):
    CNOT | (a, b)
    X | b

def OR_gate(eng, c, a, b):
    X | a
    X | b
    Toffoli_gate(eng, c, a, b)
    X | a
    X | b
    X | c

def Round_constant_XOR(eng, k, rc, bit):
    for i in range(bit):
        if (rc >> i & 1):
            X | k[i]

def Toffoli_gate(eng, c, a, b):
    if(resource_check ==1):
        Tdag | a
        Tdag | b
        H | c
        CNOT | (c, a)
        T | a
        CNOT | (b, c)
        CNOT | (b, a)
        T  | c
        Tdag | a
        CNOT | (b, c)
        CNOT | (c, a)
        T | a
        Tdag | c
        CNOT | (b, a)
        H | c
    else:
        Toffoli | (a, b, c)

def AES_Sbox0(eng, in_b, bit_t, out):
    CNOT2(eng, bit_t[8], in_b[7], in_b[4])
    CNOT2(eng, bit_t[9], bit_t[8], in_b[6])
    Toffoli_gate(eng, bit_t[10], bit_t[8], in_b[6])
    CNOT2(eng, bit_t[11], bit_t[10], in_b[2])
    Toffoli_gate(eng, bit_t[12], bit_t[11], in_b[2])
    CNOT2(eng, bit_t[13], bit_t[9], bit_t[12])
    CNOT2(eng, bit_t[14], in_b[3], bit_t[10])
    CNOT2(eng, bit_t[15], bit_t[14], bit_t[13])
    OR_gate(eng, bit_t[16], bit_t[15], in_b[7])
    CNOT2(eng, bit_t[17], bit_t[11], bit_t[16])
    OR_gate(eng, bit_t[18], bit_t[17], in_b[0])
    CNOT2(eng, bit_t[19], bit_t[13], bit_t[18])
    CNOT2(eng, bit_t[20], bit_t[8], in_b[0])
    OR_gate(eng, bit_t[21], bit_t[20], in_b[6])
    CNOT2(eng, bit_t[22], bit_t[20], in_b[2])
    Toffoli_gate(eng, bit_t[23], bit_t[22], bit_t[19])
    CNOT2(eng, bit_t[24], bit_t[23], in_b[4])
    Toffoli_gate(eng, bit_t[25], bit_t[24], in_b[2])
    CNOT2(eng, bit_t[26], bit_t[21], bit_t[25])
    Toffoli_gate(eng, bit_t[27], bit_t[26], in_b[1])
    CNOT2(eng, bit_t[28], bit_t[19], bit_t[27])
    OR_gate(eng, bit_t[29], in_b[7], bit_t[11])
    CNOT2(eng, bit_t[30], bit_t[29], bit_t[9])
    OR_gate(eng, bit_t[31], bit_t[28], in_b[4])
    CNOT2(eng, bit_t[32], bit_t[31], bit_t[21])
    OR_gate(eng, bit_t[33], bit_t[32], in_b[2])
    CNOT2(eng, bit_t[34], in_b[3], bit_t[33])
    Toffoli_gate(eng, bit_t[35], bit_t[34], in_b[1])
    CNOT2(eng, bit_t[36], bit_t[30], bit_t[35])
    Toffoli_gate(eng, bit_t[37], bit_t[36], bit_t[28])
    CNOT2(eng, bit_t[38], bit_t[37], in_b[6])
    CNOT2(eng, bit_t[39], bit_t[15], in_b[1])
    OR_gate(eng, bit_t[40], bit_t[39], bit_t[32])
    OR_gate(eng, bit_t[41], bit_t[40], in_b[6])
    CNOT2(eng, bit_t[42], bit_t[38], bit_t[41])
    OR_gate(eng, bit_t[43], bit_t[42], in_b[0])
    CNOT2(eng, bit_t[44], bit_t[36], bit_t[43])
    OR_gate(eng, bit_t[45], bit_t[44], in_b[3])
    CNOT2(eng, bit_t[46], bit_t[28], bit_t[45])
    Toffoli_gate(eng, bit_t[47], bit_t[16], bit_t[38])
    CNOT2(eng, bit_t[48], bit_t[47], bit_t[24])
    Toffoli_gate(eng, bit_t[49], bit_t[16], in_b[0])
    CNOT2(eng, bit_t[50], bit_t[48], bit_t[49])
    CNOT2(eng, bit_t[51], bit_t[38], bit_t[48])
    Toffoli_gate(eng, bit_t[52], bit_t[51], bit_t[18])
    CNOT2(eng, bit_t[53], bit_t[49], in_b[2])
    OR_gate(eng, bit_t[54], bit_t[53], bit_t[50])
    OR_gate(eng, bit_t[55], bit_t[54], in_b[3])
    CNOT2(eng, bit_t[56], bit_t[52], bit_t[55])
    OR_gate(eng, bit_t[57], bit_t[56], in_b[1])
    CNOT2(eng, bit_t[58], bit_t[50], bit_t[57])
    Toffoli_gate(eng, bit_t[59], bit_t[45], bit_t[34])
    CNOT2(eng, bit_t[60], bit_t[59], bit_t[18])
    OR_gate(eng, bit_t[61], bit_t[22], bit_t[15])
    CNOT2(eng, bit_t[62], bit_t[61], bit_t[9])
    Toffoli_gate(eng, bit_t[63], bit_t[62], in_b[7])
    CNOT2(eng, bit_t[64], bit_t[60], bit_t[63])
    Toffoli_gate(eng, bit_t[65], bit_t[17], bit_t[46])
    CNOT2(eng, bit_t[66], bit_t[65], bit_t[50])
    OR_gate(eng, bit_t[67], bit_t[46], in_b[4])
    CNOT2(eng, bit_t[68], bit_t[66], bit_t[67])
    OR_gate(eng, bit_t[69], bit_t[68], in_b[1])
    CNOT2(eng, bit_t[70], bit_t[64], bit_t[69])
    OR_gate(eng, bit_t[71], bit_t[70], in_b[6])
    CNOT2(eng, bit_t[72], bit_t[58], bit_t[71])
    OR_gate(eng, bit_t[73], bit_t[72], in_b[5])
    CNOT2(eng, out[2], bit_t[46], bit_t[73])

    CNOT2(eng, bit_t[75], bit_t[44], bit_t[42])
    CNOT2(eng, bit_t[76], bit_t[75], bit_t[32])
    CNOT2(eng, bit_t[77], bit_t[67], out[2])
    Toffoli_gate(eng, bit_t[78], bit_t[77], bit_t[61])
    Toffoli_gate(eng, bit_t[79], bit_t[78], in_b[0])
    CNOT2(eng, bit_t[80], bit_t[76], bit_t[79])
    CNOT2(eng, bit_t[81], bit_t[45], bit_t[17])
    Toffoli_gate(eng, bit_t[82], bit_t[81], bit_t[55])
    OR_gate(eng, bit_t[83], bit_t[71], in_b[7])
    CNOT2(eng, bit_t[84], bit_t[82], bit_t[83])
    OR_gate(eng, bit_t[85], bit_t[84], in_b[5])
    CNOT2(eng, bit_t[86], bit_t[80], bit_t[85])
    CNOT2(eng, bit_t[87], bit_t[39], bit_t[72])
    CNOT2(eng, bit_t[88], bit_t[87], bit_t[81])
    OR_gate(eng, bit_t[89], bit_t[51], in_b[7])
    CNOT2(eng, bit_t[90], bit_t[88], bit_t[89])
    CNOT2(eng, bit_t[91], bit_t[59], bit_t[16])
    CNOT2(eng, bit_t[92], bit_t[91], bit_t[30])
    CNOT2(eng, bit_t[93], bit_t[92], bit_t[56])
    CNOT2(eng, bit_t[94], bit_t[93], bit_t[66])
    Toffoli_gate(eng, bit_t[95], bit_t[94], in_b[0])
    CNOT2(eng, bit_t[96], bit_t[92], bit_t[95])
    OR_gate(eng, bit_t[97], bit_t[96], in_b[5])
    CNOT2(eng, bit_t[98], bit_t[90], bit_t[97])
    OR_gate(eng, bit_t[99], bit_t[98], in_b[4])
    CNOT2(eng, bit_t[100], bit_t[86], bit_t[99])
    Toffoli_gate(eng, bit_t[101], bit_t[18], bit_t[94])
    CNOT2(eng, bit_t[102], bit_t[101], bit_t[12])
    XCNOT(eng, bit_t[103], bit_t[92])
    OR_gate(eng, bit_t[104], bit_t[79], bit_t[70])
    CNOT2(eng, bit_t[105], bit_t[104], bit_t[90])
    OR_gate(eng, bit_t[106], bit_t[105], in_b[6])
    CNOT2(eng, bit_t[107], bit_t[103], bit_t[106])
    Toffoli_gate(eng, bit_t[108], bit_t[107], in_b[5])
    CNOT2(eng, bit_t[109], bit_t[102], bit_t[108])
    Toffoli_gate(eng, bit_t[110], bit_t[53], bit_t[104])
    CNOT2(eng, bit_t[111], bit_t[110], in_b[5])
    CNOT2(eng, bit_t[112], bit_t[54], in_b[5])
    Toffoli_gate(eng, bit_t[113], bit_t[112], bit_t[16])
    Toffoli_gate(eng, bit_t[114], bit_t[113], in_b[0])
    CNOT2(eng, bit_t[115], bit_t[111], bit_t[114])
    OR_gate(eng, bit_t[116], bit_t[93], bit_t[115])
    CNOT2(eng, bit_t[117], bit_t[116], bit_t[103])
    Toffoli_gate(eng, bit_t[118], bit_t[33], in_b[2])
    CNOT2(eng, bit_t[119], bit_t[117], bit_t[118])
    Toffoli_gate(eng, bit_t[120], bit_t[119], in_b[6])
    CNOT2(eng, bit_t[121], bit_t[115], bit_t[120])
    Toffoli_gate(eng, bit_t[122], bit_t[121], in_b[4])
    CNOT2(eng, bit_t[123], bit_t[109], bit_t[122])
    OR_gate(eng, bit_t[124], bit_t[123], in_b[1])
    CNOT2(eng, out[7], bit_t[100], bit_t[124])
    Toffoli_gate(eng, bit_t[126], in_b[5], bit_t[25])
    CNOT2(eng, bit_t[127], bit_t[126], bit_t[91])
    Toffoli_gate(eng, bit_t[128], bit_t[127], in_b[6])
    CNOT2(eng, bit_t[129], bit_t[82], bit_t[128])
    OR_gate(eng, bit_t[130], bit_t[84], bit_t[98])
    CNOT2(eng, bit_t[131], bit_t[130], bit_t[109])
    XCNOT(eng, bit_t[132], bit_t[38])
    OR_gate(eng, bit_t[133], bit_t[132], in_b[4])
    CNOT2(eng, bit_t[134], bit_t[131], bit_t[133])
    OR_gate(eng, bit_t[135], bit_t[134], in_b[1])
    CNOT2(eng, bit_t[136], bit_t[129], bit_t[135])
    OR_gate(eng, bit_t[137], bit_t[111], bit_t[66])
    CNOT2(eng, bit_t[138], bit_t[137], bit_t[21])
    OR_gate(eng, bit_t[139], bit_t[109], bit_t[94])
    CNOT2(eng, bit_t[140], bit_t[139], bit_t[48])
    Toffoli_gate(eng, bit_t[141], bit_t[140], in_b[1])
    CNOT2(eng, bit_t[142], bit_t[138], bit_t[141])
    CNOT2(eng, bit_t[143], bit_t[90], bit_t[27])
    CNOT2(eng, bit_t[144], bit_t[143], bit_t[142])
    Toffoli_gate(eng, bit_t[145], bit_t[144], in_b[2])
    CNOT2(eng, bit_t[146], out[7], bit_t[145])
    Toffoli_gate(eng, bit_t[147], bit_t[146], in_b[3])
    CNOT2(eng, bit_t[148], bit_t[142], bit_t[147])
    Toffoli_gate(eng, bit_t[149], bit_t[148], in_b[7])
    CNOT2(eng, bit_t[150], bit_t[136], bit_t[149])
    CNOT2(eng, bit_t[151], bit_t[54], bit_t[44])
    CNOT2(eng, bit_t[152], bit_t[151], bit_t[146])
    OR_gate(eng, bit_t[153], bit_t[87], bit_t[64])
    CNOT2(eng, bit_t[154], bit_t[153], bit_t[128])
    OR_gate(eng, bit_t[155], bit_t[154], in_b[1])
    CNOT2(eng, bit_t[156], bit_t[152], bit_t[155])
    Toffoli_gate(eng, bit_t[157], bit_t[35], bit_t[53])
    CNOT2(eng, bit_t[158], bit_t[157], bit_t[77])
    Toffoli_gate(eng, bit_t[159], bit_t[158], in_b[5])
    CNOT2(eng, bit_t[160], bit_t[156], bit_t[159])
    XCNOT(eng, bit_t[161], bit_t[106])
    OR_gate(eng, bit_t[162], bit_t[158], bit_t[82])
    CNOT2(eng, bit_t[163], bit_t[162], bit_t[144])
    OR_gate(eng, bit_t[164], bit_t[163], in_b[2])
    CNOT2(eng, bit_t[165], bit_t[161], bit_t[164])
    OR_gate(eng, bit_t[166], bit_t[68], bit_t[93])
    CNOT2(eng, bit_t[167], bit_t[166], bit_t[55])
    OR_gate(eng, bit_t[168], bit_t[10], in_b[5])
    CNOT2(eng, bit_t[169], bit_t[167], bit_t[168])
    Toffoli_gate(eng, bit_t[170], bit_t[169], in_b[3])
    CNOT2(eng, bit_t[171], bit_t[165], bit_t[170])
    OR_gate(eng, bit_t[172], bit_t[171], in_b[7])
    CNOT2(eng, bit_t[173], bit_t[160], bit_t[172])
    Toffoli_gate(eng, bit_t[174], bit_t[173], in_b[0])
    CNOT2(eng, out[0], bit_t[150], bit_t[174])
    OR_gate(eng, bit_t[176], bit_t[26], out[0])
    CNOT2(eng, bit_t[177], bit_t[176], bit_t[158])
    CNOT2(eng, bit_t[178], bit_t[44], bit_t[68])
    CNOT2(eng, bit_t[179], bit_t[178], bit_t[123])
    Toffoli_gate(eng, bit_t[180], bit_t[179], in_b[0])
    CNOT2(eng, bit_t[181], bit_t[177], bit_t[180])
    OR_gate(eng, bit_t[182], bit_t[137], bit_t[42])
    CNOT2(eng, bit_t[183], bit_t[182], bit_t[51])
    Toffoli_gate(eng, bit_t[184], bit_t[183], in_b[3])
    CNOT2(eng, bit_t[185], bit_t[181], bit_t[184])
    CNOT2(eng, bit_t[186], bit_t[14], bit_t[75])
    CNOT2(eng, bit_t[187], bit_t[186], bit_t[88])
    CNOT2(eng, bit_t[188], in_b[7], bit_t[105])
    CNOT2(eng, bit_t[189], bit_t[188], bit_t[39])
    OR_gate(eng, bit_t[190], bit_t[88], bit_t[176])
    CNOT2(eng, bit_t[191], bit_t[190], bit_t[181])
    Toffoli_gate(eng, bit_t[192], bit_t[191], in_b[0])
    CNOT2(eng, bit_t[193], bit_t[189], bit_t[192])
    OR_gate(eng, bit_t[194], bit_t[193], in_b[4])
    CNOT2(eng, bit_t[195], bit_t[187], bit_t[194])
    Toffoli_gate(eng, bit_t[196], bit_t[195], in_b[7])
    CNOT2(eng, bit_t[197], bit_t[185], bit_t[196])
    CNOT2(eng, bit_t[198], bit_t[34], bit_t[173])
    CNOT2(eng, bit_t[199], bit_t[198], bit_t[192])
    OR_gate(eng, bit_t[200], bit_t[12], bit_t[198])
    CNOT2(eng, bit_t[201], bit_t[200], bit_t[38])
    Toffoli_gate(eng, bit_t[202], bit_t[201], in_b[6])
    CNOT2(eng, bit_t[203], bit_t[102], bit_t[202])
    Toffoli_gate(eng, bit_t[204], bit_t[203], in_b[2])
    CNOT2(eng, bit_t[205], bit_t[199], bit_t[204])
    OR_gate(eng, bit_t[206], bit_t[25], bit_t[76])
    CNOT2(eng, bit_t[207], bit_t[206], bit_t[193])
    XCNOT(eng, bit_t[208], bit_t[204])
    Toffoli_gate(eng, bit_t[209], bit_t[208], in_b[6])
    CNOT2(eng, bit_t[210], bit_t[207], bit_t[209])
    CNOT2(eng, bit_t[211], bit_t[50], bit_t[138])
    CNOT2(eng, bit_t[212], bit_t[211], bit_t[188])
    Toffoli_gate(eng, bit_t[213], bit_t[52], in_b[4])
    CNOT2(eng, bit_t[214], bit_t[212], bit_t[213])
    Toffoli_gate(eng, bit_t[215], bit_t[214], in_b[1])
    CNOT2(eng, bit_t[216], bit_t[210], bit_t[215])
    Toffoli_gate(eng, bit_t[217], bit_t[216], in_b[3])
    CNOT2(eng, bit_t[218], bit_t[205], bit_t[217])
    Toffoli_gate(eng, bit_t[219], bit_t[218], in_b[5])
    CNOT2(eng, out[5], bit_t[197], bit_t[219])
    Toffoli_gate(eng, bit_t[221], bit_t[61], out[0])
    CNOT2(eng, bit_t[222], bit_t[221], bit_t[56])
    XCNOT(eng, bit_t[223], bit_t[164])
    OR_gate(eng, bit_t[224], bit_t[223], in_b[0])
    CNOT2(eng, bit_t[225], bit_t[222], bit_t[224])
    CNOT2(eng, bit_t[226], bit_t[146], bit_t[179])
    CNOT2(eng, bit_t[227], bit_t[226], bit_t[221])
    Toffoli_gate(eng, bit_t[228], bit_t[164], in_b[4])
    CNOT2(eng, bit_t[229], bit_t[227], bit_t[228])
    Toffoli_gate(eng, bit_t[230], bit_t[229], in_b[3])
    CNOT2(eng, bit_t[231], bit_t[225], bit_t[230])
    CNOT2(eng, bit_t[232], bit_t[198], bit_t[120])
    CNOT2(eng, bit_t[233], bit_t[232], bit_t[203])
    CNOT2(eng, bit_t[234], bit_t[105], bit_t[40])
    CNOT2(eng, bit_t[235], bit_t[234], bit_t[226])
    Toffoli_gate(eng, bit_t[236], bit_t[235], in_b[2])
    CNOT2(eng, bit_t[237], bit_t[233], bit_t[236])
    Toffoli_gate(eng, bit_t[238], bit_t[166], bit_t[81])
    CNOT2(eng, bit_t[239], bit_t[238], bit_t[40])
    OR_gate(eng, bit_t[240], bit_t[239], in_b[0])
    CNOT2(eng, bit_t[241], bit_t[237], bit_t[240])
    OR_gate(eng, bit_t[242], bit_t[241], in_b[1])
    CNOT2(eng, bit_t[243], bit_t[231], bit_t[242])
    CNOT2(eng, bit_t[244], bit_t[93], bit_t[166])
    CNOT2(eng, bit_t[245], bit_t[244], bit_t[202])
    Toffoli_gate(eng, bit_t[246], bit_t[214], bit_t[197])
    CNOT2(eng, bit_t[247], bit_t[246], bit_t[234])
    Toffoli_gate(eng, bit_t[248], bit_t[247], in_b[0])
    CNOT2(eng, bit_t[249], bit_t[245], bit_t[248])
    CNOT2(eng, bit_t[250], bit_t[156], in_b[3])
    CNOT2(eng, bit_t[251], bit_t[250], bit_t[203])
    OR_gate(eng, bit_t[252], bit_t[251], in_b[7])
    CNOT2(eng, bit_t[253], bit_t[246], bit_t[252])
    Toffoli_gate(eng, bit_t[254], bit_t[253], in_b[1])
    CNOT2(eng, bit_t[255], bit_t[249], bit_t[254])
    OR_gate(eng, bit_t[256], bit_t[134], bit_t[63])
    Toffoli_gate(eng, bit_t[257], bit_t[256], bit_t[173])
    OR_gate(eng, bit_t[258], bit_t[157], bit_t[169])
    CNOT2(eng, bit_t[259], bit_t[258], bit_t[117])
    OR_gate(eng, bit_t[260], bit_t[159], in_b[3])
    CNOT2(eng, bit_t[261], bit_t[259], bit_t[260])
    Toffoli_gate(eng, bit_t[262], bit_t[261], in_b[4])
    CNOT2(eng, bit_t[263], bit_t[257], bit_t[262])
    Toffoli_gate(eng, bit_t[264], bit_t[263], in_b[2])
    CNOT2(eng, bit_t[265], bit_t[255], bit_t[264])
    Toffoli_gate(eng, bit_t[266], bit_t[265], in_b[5])
    CNOT2(eng, out[3], bit_t[243], bit_t[266])
    OR_gate(eng, bit_t[268], bit_t[245], out[2])
    CNOT2(eng, bit_t[269], bit_t[268], bit_t[60])
    Toffoli_gate(eng, bit_t[270], bit_t[36], bit_t[48])
    CNOT2(eng, bit_t[271], bit_t[270], bit_t[205])
    Toffoli_gate(eng, bit_t[272], bit_t[271], in_b[0])
    CNOT2(eng, bit_t[273], bit_t[269], bit_t[272])
    OR_gate(eng, bit_t[274], bit_t[251], bit_t[102])
    CNOT2(eng, bit_t[275], bit_t[274], bit_t[49])
    Toffoli_gate(eng, bit_t[276], bit_t[275], in_b[6])
    CNOT2(eng, bit_t[277], bit_t[243], bit_t[276])
    OR_gate(eng, bit_t[278], bit_t[277], in_b[4])
    CNOT2(eng, bit_t[279], bit_t[273], bit_t[278])
    Toffoli_gate(eng, bit_t[280], bit_t[18], bit_t[8])
    CNOT2(eng, bit_t[281], bit_t[280], bit_t[226])
    OR_gate(eng, bit_t[282], bit_t[203], bit_t[261])
    CNOT2(eng, bit_t[283], bit_t[282], bit_t[40])
    OR_gate(eng, bit_t[284], bit_t[283], in_b[0])
    CNOT2(eng, bit_t[285], bit_t[245], bit_t[284])
    OR_gate(eng, bit_t[286], bit_t[285], in_b[4])
    CNOT2(eng, bit_t[287], bit_t[281], bit_t[286])
    Toffoli_gate(eng, bit_t[288], bit_t[287], in_b[3])
    CNOT2(eng, bit_t[289], bit_t[279], bit_t[288])
    OR_gate(eng, bit_t[290], bit_t[222], bit_t[36])
    CNOT2(eng, bit_t[291], bit_t[290], bit_t[24])
    Toffoli_gate(eng, bit_t[292], bit_t[92], bit_t[70])
    CNOT2(eng, bit_t[293], bit_t[292], bit_t[181])
    XCNOT(eng, bit_t[294], bit_t[252])
    Toffoli_gate(eng, bit_t[295], bit_t[294], in_b[6])
    CNOT2(eng, bit_t[296], bit_t[293], bit_t[295])
    Toffoli_gate(eng, bit_t[297], bit_t[296], in_b[4])
    CNOT2(eng, bit_t[298], bit_t[291], bit_t[297])
    CNOT2(eng, bit_t[299], bit_t[266], bit_t[57])
    Toffoli_gate(eng, bit_t[300], bit_t[299], bit_t[293])
    Toffoli_gate(eng, bit_t[301], bit_t[239], bit_t[241])
    CNOT2(eng, bit_t[302], bit_t[301], bit_t[66])
    XCNOT(eng, bit_t[303], bit_t[205])
    OR_gate(eng, bit_t[304], bit_t[303], in_b[6])
    CNOT2(eng, bit_t[305], bit_t[302], bit_t[304])
    Toffoli_gate(eng, bit_t[306], bit_t[305], in_b[3])
    CNOT2(eng, bit_t[307], bit_t[300], bit_t[306])
    Toffoli_gate(eng, bit_t[308], bit_t[307], in_b[2])
    CNOT2(eng, bit_t[309], bit_t[298], bit_t[308])
    Toffoli_gate(eng, bit_t[310], bit_t[309], in_b[5])
    CNOT2(eng, out[4], bit_t[289], bit_t[310])
    OR_gate(eng, bit_t[312], bit_t[64], bit_t[199])
    CNOT2(eng, bit_t[313], bit_t[312], bit_t[139])
    OR_gate(eng, bit_t[314], bit_t[226], bit_t[235])
    CNOT2(eng, bit_t[315], bit_t[314], bit_t[65])
    Toffoli_gate(eng, bit_t[316], bit_t[315], in_b[0])
    CNOT2(eng, bit_t[317], bit_t[313], bit_t[316])
    CNOT2(eng, bit_t[318], bit_t[19], bit_t[263])
    CNOT2(eng, bit_t[319], bit_t[318], bit_t[161])
    Toffoli_gate(eng, bit_t[320], bit_t[188], in_b[2])
    CNOT2(eng, bit_t[321], bit_t[319], bit_t[320])
    Toffoli_gate(eng, bit_t[322], bit_t[321], in_b[3])
    CNOT2(eng, bit_t[323], bit_t[317], bit_t[322])
    CNOT2(eng, bit_t[324], out[2], bit_t[315])
    OR_gate(eng, bit_t[325], bit_t[324], bit_t[309])
    Toffoli_gate(eng, bit_t[326], bit_t[205], in_b[0])
    CNOT2(eng, bit_t[327], bit_t[325], bit_t[326])
    CNOT2(eng, bit_t[328], bit_t[314], bit_t[151])
    Toffoli_gate(eng, bit_t[329], bit_t[328], bit_t[8])
    OR_gate(eng, bit_t[330], bit_t[329], in_b[2])
    CNOT2(eng, bit_t[331], bit_t[327], bit_t[330])
    Toffoli_gate(eng, bit_t[332], bit_t[331], in_b[4])
    CNOT2(eng, bit_t[333], bit_t[323], bit_t[332])
    OR_gate(eng, bit_t[334], bit_t[11], bit_t[73])
    CNOT2(eng, bit_t[335], bit_t[334], bit_t[31])
    CNOT2(eng, bit_t[336], bit_t[307], bit_t[82])
    OR_gate(eng, bit_t[337], bit_t[336], bit_t[60])
    Toffoli_gate(eng, bit_t[338], bit_t[337], in_b[7])
    CNOT2(eng, bit_t[339], bit_t[81], bit_t[338])
    OR_gate(eng, bit_t[340], bit_t[339], in_b[2])
    CNOT2(eng, bit_t[341], bit_t[335], bit_t[340])
    Toffoli_gate(eng, bit_t[342], bit_t[131], bit_t[35])
    CNOT2(eng, bit_t[343], bit_t[342], bit_t[271])
    OR_gate(eng, bit_t[344], bit_t[343], in_b[6])
    CNOT2(eng, bit_t[345], bit_t[55], bit_t[344])
    XCNOT(eng, bit_t[346], bit_t[135])
    CNOT2(eng, bit_t[347], bit_t[240], bit_t[309])
    OR_gate(eng, bit_t[348], bit_t[347], bit_t[192])
    Toffoli_gate(eng, bit_t[349], bit_t[348], in_b[2])
    CNOT2(eng, bit_t[350], bit_t[346], bit_t[349])
    Toffoli_gate(eng, bit_t[351], bit_t[350], in_b[3])
    CNOT2(eng, bit_t[352], bit_t[345], bit_t[351])
    Toffoli_gate(eng, bit_t[353], bit_t[352], in_b[4])
    CNOT2(eng, bit_t[354], bit_t[341], bit_t[353])
    OR_gate(eng, bit_t[355], bit_t[354], in_b[5])
    CNOT2(eng, out[1], bit_t[333], bit_t[355])
    Toffoli_gate(eng, bit_t[357], bit_t[200], bit_t[28])
    OR_gate(eng, bit_t[358], bit_t[357], bit_t[231])
    Toffoli_gate(eng, bit_t[359], bit_t[166], in_b[6])
    CNOT2(eng, bit_t[360], bit_t[358], bit_t[359])
    Toffoli_gate(eng, bit_t[361], bit_t[323], bit_t[225])
    CNOT2(eng, bit_t[362], bit_t[361], bit_t[331])
    CNOT2(eng, bit_t[363], bit_t[319], bit_t[362])
    CNOT2(eng, bit_t[364], bit_t[363], bit_t[117])
    Toffoli_gate(eng, bit_t[365], bit_t[364], in_b[0])
    CNOT2(eng, bit_t[366], bit_t[362], bit_t[365])
    Toffoli_gate(eng, bit_t[367], bit_t[366], in_b[7])
    CNOT2(eng, bit_t[368], bit_t[360], bit_t[367])
    OR_gate(eng, bit_t[369], bit_t[151], bit_t[269])
    CNOT2(eng, bit_t[370], bit_t[369], bit_t[221])
    Toffoli_gate(eng, bit_t[371], bit_t[370], in_b[0])
    CNOT2(eng, bit_t[372], bit_t[184], bit_t[371])
    CNOT2(eng, bit_t[373], bit_t[63], bit_t[257])
    OR_gate(eng, bit_t[374], bit_t[373], bit_t[52])
    Toffoli_gate(eng, bit_t[375], bit_t[374], in_b[7])
    CNOT2(eng, bit_t[376], bit_t[372], bit_t[375])
    OR_gate(eng, bit_t[377], bit_t[376], in_b[5])
    CNOT2(eng, bit_t[378], bit_t[368], bit_t[377])
    Toffoli_gate(eng, bit_t[379], bit_t[227], bit_t[200])
    CNOT2(eng, bit_t[380], bit_t[379], in_b[3])
    Toffoli_gate(eng, bit_t[381], bit_t[39], bit_t[187])
    OR_gate(eng, bit_t[382], bit_t[381], bit_t[321])
    Toffoli_gate(eng, bit_t[383], bit_t[87], in_b[4])
    CNOT2(eng, bit_t[384], bit_t[382], bit_t[383])
    Toffoli_gate(eng, bit_t[385], bit_t[384], in_b[0])
    CNOT2(eng, bit_t[386], bit_t[380], bit_t[385])
    Toffoli_gate(eng, bit_t[387], bit_t[376], bit_t[193])
    CNOT2(eng, bit_t[388], bit_t[387], bit_t[372])
    CNOT2(eng, bit_t[389], bit_t[83], bit_t[93])
    Toffoli_gate(eng, bit_t[390], bit_t[389], bit_t[169])
    Toffoli_gate(eng, bit_t[391], bit_t[390], in_b[4])
    CNOT2(eng, bit_t[392], bit_t[210], bit_t[391])
    OR_gate(eng, bit_t[393], bit_t[392], in_b[2])
    CNOT2(eng, bit_t[394], bit_t[388], bit_t[393])
    Toffoli_gate(eng, bit_t[395], bit_t[394], in_b[7])
    CNOT2(eng, bit_t[396], bit_t[386], bit_t[395])
    Toffoli_gate(eng, bit_t[397], bit_t[396], in_b[1])
    CNOT2(eng, out[6], bit_t[378], bit_t[397])

def AES_Sbox1(eng, b_in, var, out):
    CNOT2(eng, var[8], b_in[0], b_in[1])
    CNOT2(eng, var[9], var[8], b_in[7])
    CNOT2(eng, var[10], b_in[7], b_in[2])
    Toffoli_gate(eng, var[11], var[10], var[9])
    OR_gate(eng, var[12], var[11], b_in[6])
    CNOT2(eng, var[13], var[9], var[12])
    XCNOT(eng, var[14], var[11])
    CNOT2(eng, var[15], var[14], b_in[1])
    Toffoli_gate(eng, var[16], var[9], b_in[6])
    CNOT2(eng, var[17], var[15], var[16])
    OR_gate(eng, var[18], var[17], b_in[5])
    CNOT2(eng, var[19], var[13], var[18])
    OR_gate(eng, var[20], b_in[6], b_in[5])
    CNOT2(eng, var[21], var[13], var[20])
    OR_gate(eng, var[22], var[9], b_in[2])
    CNOT2(eng, var[23], var[21], var[22])
    CNOT2(eng, var[24], b_in[5], var[17])
    Toffoli_gate(eng, var[25], var[24], var[22])
    OR_gate(eng, var[26], var[19], b_in[7])
    CNOT2(eng, var[27], var[25], var[26])
    OR_gate(eng, var[28], var[27], b_in[1])
    CNOT2(eng, var[29], var[23], var[28])
    Toffoli_gate(eng, var[30], var[29], b_in[0])
    CNOT2(eng, var[31], var[19], var[30])
    CNOT2(eng, var[32], b_in[7], var[25])
    Toffoli_gate(eng, var[33], var[32], var[14])
    Toffoli_gate(eng, var[34], var[31], var[30])
    CNOT2(eng, var[35], var[34], var[18])
    Toffoli_gate(eng, var[36], var[35], b_in[6])
    CNOT2(eng, var[37], var[33], var[36])
    CNOT2(eng, var[38], b_in[1], var[19])
    Toffoli_gate(eng, var[39], var[38], b_in[5])
    Toffoli_gate(eng, var[40], var[31], var[24])
    CNOT2(eng, var[41], var[40], var[13])
    OR_gate(eng, var[42], var[41], b_in[7])
    CNOT2(eng, var[43], var[39], var[42])
    OR_gate(eng, var[44], var[43], b_in[2])
    CNOT2(eng, var[45], var[37], var[44])
    Toffoli_gate(eng, var[46], var[45], b_in[4])
    CNOT2(eng, var[47], var[31], var[46])
    CNOT2(eng, var[48], b_in[5], var[43])
    Toffoli_gate(eng, var[49], var[48], var[41])
    CNOT2(eng, var[50], var[13], b_in[6])
    CNOT2(eng, var[51], var[50], var[20])
    OR_gate(eng, var[52], var[51], b_in[7])
    CNOT2(eng, var[53], var[49], var[52])
    CNOT2(eng, var[54], var[26], var[53])
    CNOT2(eng, var[55], var[54], var[18])
    Toffoli_gate(eng, var[56], var[49], var[8])
    CNOT2(eng, var[57], var[56], var[24])
    Toffoli_gate(eng, var[58], var[57], b_in[6])
    CNOT2(eng, var[59], var[55], var[58])
    Toffoli_gate(eng, var[60], var[59], b_in[4])
    CNOT2(eng, var[61], var[53], var[60])
    CNOT2(eng, var[62], var[50], var[23])
    CNOT2(eng, var[63], var[62], var[54])
    CNOT2(eng, var[64], var[29], var[8])
    Toffoli_gate(eng, var[65], var[64], var[45])
    OR_gate(eng, var[66], var[65], b_in[4])
    CNOT2(eng, var[67], var[63], var[66])
    CNOT2(eng, var[68], var[8], var[35])
    Toffoli_gate(eng, var[69], var[68], var[66])
    OR_gate(eng, var[70], var[69], b_in[6])
    CNOT2(eng, var[71], b_in[2], var[70])
    Toffoli_gate(eng, var[72], var[71], b_in[1])
    CNOT2(eng, var[73], var[67], var[72])
    OR_gate(eng, var[74], var[73], b_in[2])
    CNOT2(eng, var[75], var[61], var[74])
    Toffoli_gate(eng, var[76], var[75], b_in[3])
    CNOT2(eng, out[5], var[47], var[76])
    Toffoli_gate(eng, var[78], var[74], var[30])
    CNOT2(eng, var[79], var[78], out[5])
    OR_gate(eng, var[80], var[67], b_in[7])
    CNOT2(eng, var[81], var[79], var[80])
    CNOT2(eng, var[82], var[45], var[54])
    CNOT2(eng, var[83], var[82], var[43])
    XCNOT(eng, var[84], var[79])
    OR_gate(eng, var[85], var[64], b_in[5])
    CNOT2(eng, var[86], var[84], var[85])
    Toffoli_gate(eng, var[87], var[86], b_in[4])
    CNOT2(eng, var[88], var[83], var[87])
    Toffoli_gate(eng, var[89], var[88], b_in[1])
    CNOT2(eng, var[90], var[81], var[89])
    CNOT2(eng, var[91], var[26], var[88])
    Toffoli_gate(eng, var[92], var[91], var[59])
    Toffoli_gate(eng, var[93], var[74], var[10])
    CNOT2(eng, var[94], var[93], var[46])
    Toffoli_gate(eng, var[95], var[94], b_in[1])
    CNOT2(eng, var[96], var[92], var[95])
    CNOT2(eng, var[97], var[49], var[81])
    Toffoli_gate(eng, var[98], var[97], var[53])
    OR_gate(eng, var[99], var[98], b_in[5])
    CNOT2(eng, var[100], var[96], var[99])
    Toffoli_gate(eng, var[101], var[100], b_in[3])
    CNOT2(eng, var[102], var[90], var[101])
    Toffoli_gate(eng, var[103], var[88], var[47])
    CNOT2(eng, var[104], var[103], var[102])
    CNOT2(eng, var[105], var[80], b_in[4])
    CNOT2(eng, var[106], var[105], var[55])
    OR_gate(eng, var[107], var[106], b_in[3])
    CNOT2(eng, var[108], var[104], var[107])
    Toffoli_gate(eng, var[109], var[51], var[106])
    CNOT2(eng, var[110], var[109], var[47])
    OR_gate(eng, var[111], var[22], b_in[3])
    CNOT2(eng, var[112], var[110], var[111])
    OR_gate(eng, var[113], var[112], b_in[2])
    CNOT2(eng, var[114], var[108], var[113])
    OR_gate(eng, var[115], var[102], b_in[7])
    CNOT2(eng, var[116], var[41], var[115])
    Toffoli_gate(eng, var[117], var[102], var[10])
    CNOT2(eng, var[118], var[117], var[116])
    Toffoli_gate(eng, var[119], var[118], b_in[4])
    CNOT2(eng, var[120], var[116], var[119])
    Toffoli_gate(eng, var[121], var[53], var[114])
    CNOT2(eng, var[122], var[121], var[116])
    OR_gate(eng, var[123], var[110], b_in[3])
    CNOT2(eng, var[124], var[122], var[123])
    Toffoli_gate(eng, var[125], var[124], b_in[0])
    CNOT2(eng, var[126], var[120], var[125])
    OR_gate(eng, var[127], var[126], b_in[1])
    CNOT2(eng, var[128], var[114], var[127])
    Toffoli_gate(eng, var[129], var[128], b_in[6])
    CNOT2(eng, out[3], var[102], var[129])
    Toffoli_gate(eng, var[131], var[45], var[118])
    CNOT2(eng, var[132], var[131], b_in[7])
    Toffoli_gate(eng, var[133], var[132], b_in[3])
    CNOT2(eng, var[134], var[122], var[133])
    Toffoli_gate(eng, var[135], var[128], var[62])
    CNOT2(eng, var[136], var[135], var[86])
    OR_gate(eng, var[137], var[63], b_in[3])
    CNOT2(eng, var[138], var[136], var[137])
    Toffoli_gate(eng, var[139], var[138], b_in[6])
    CNOT2(eng, var[140], var[134], var[139])
    Toffoli_gate(eng, var[141], var[134], var[13])
    CNOT2(eng, var[142], var[141], var[20])
    CNOT2(eng, var[143], var[114], var[100])
    Toffoli_gate(eng, var[144], var[143], var[137])
    Toffoli_gate(eng, var[145], var[144], b_in[1])
    CNOT2(eng, var[146], var[142], var[145])
    CNOT2(eng, var[147], var[144], var[118])
    CNOT2(eng, var[148], var[147], var[136])
    Toffoli_gate(eng, var[149], var[47], b_in[6])
    CNOT2(eng, var[150], var[148], var[149])
    OR_gate(eng, var[151], var[150], b_in[2])
    CNOT2(eng, var[152], var[146], var[151])
    OR_gate(eng, var[153], var[152], b_in[0])
    CNOT2(eng, var[154], var[140], var[153])
    CNOT2(eng, var[155], var[43], var[88])
    Toffoli_gate(eng, var[156], var[155], b_in[7])
    Toffoli_gate(eng, var[157], var[156], b_in[3])
    CNOT2(eng, var[158], var[88], var[157])
    Toffoli_gate(eng, var[159], var[116], var[101])
    CNOT2(eng, var[160], var[159], var[144])
    Toffoli_gate(eng, var[161], var[125], var[38])
    CNOT2(eng, var[162], var[161], var[101])
    Toffoli_gate(eng, var[163], var[162], b_in[0])
    CNOT2(eng, var[164], var[160], var[163])
    Toffoli_gate(eng, var[165], var[164], b_in[2])
    CNOT2(eng, var[166], var[158], var[165])
    Toffoli_gate(eng, var[167], var[29], var[127])
    CNOT2(eng, var[168], var[167], var[114])
    CNOT2(eng, var[169], b_in[3], var[136])
    CNOT2(eng, var[170], var[169], var[24])
    Toffoli_gate(eng, var[171], var[170], b_in[0])
    CNOT2(eng, var[172], var[168], var[171])
    Toffoli_gate(eng, var[173], var[54], var[31])
    CNOT2(eng, var[174], var[173], var[64])
    Toffoli_gate(eng, var[175], var[174], b_in[3])
    CNOT2(eng, var[176], var[172], var[175])
    Toffoli_gate(eng, var[177], var[176], b_in[6])
    CNOT2(eng, var[178], var[166], var[177])
    Toffoli_gate(eng, var[179], var[178], b_in[4])
    CNOT2(eng, out[2], var[154], var[179])
    CNOT2(eng, var[181], var[93], var[138])
    CNOT2(eng, var[182], var[181], var[170])
    XCNOT(eng, var[183], var[92])
    OR_gate(eng, var[184], var[183], b_in[4])
    CNOT2(eng, var[185], var[182], var[184])
    CNOT2(eng, var[186], var[98], var[14])
    Toffoli_gate(eng, var[187], var[186], out[2])
    CNOT2(eng, var[188], var[131], var[138])
    Toffoli_gate(eng, var[189], var[188], var[143])
    Toffoli_gate(eng, var[190], var[189], b_in[0])
    CNOT2(eng, var[191], var[187], var[190])
    Toffoli_gate(eng, var[192], var[191], b_in[2])
    CNOT2(eng, var[193], var[185], var[192])
    Toffoli_gate(eng, var[194], var[158], var[141])
    CNOT2(eng, var[195], var[194], var[75])
    OR_gate(eng, var[196], var[195], b_in[0])
    CNOT2(eng, var[197], var[79], var[196])
    CNOT2(eng, var[198], var[20], var[189])
    Toffoli_gate(eng, var[199], var[198], var[146])
    Toffoli_gate(eng, var[200], var[152], b_in[7])
    CNOT2(eng, var[201], var[199], var[200])
    Toffoli_gate(eng, var[202], var[201], b_in[5])
    CNOT2(eng, var[203], var[197], var[202])
    Toffoli_gate(eng, var[204], var[203], b_in[6])
    CNOT2(eng, var[205], var[193], var[204])
    Toffoli_gate(eng, var[206], var[162], var[74])
    CNOT2(eng, var[207], var[206], var[146])
    OR_gate(eng, var[208], var[118], b_in[5])
    CNOT2(eng, var[209], var[207], var[208])
    CNOT2(eng, var[210], var[112], var[23])
    Toffoli_gate(eng, var[211], var[210], var[148])
    Toffoli_gate(eng, var[212], var[211], b_in[2])
    CNOT2(eng, var[213], var[209], var[212])
    Toffoli_gate(eng, var[214], var[118], var[120])
    CNOT2(eng, var[215], var[214], var[87])
    CNOT2(eng, var[216], var[24], var[87])
    CNOT2(eng, var[217], var[216], var[160])
    Toffoli_gate(eng, var[218], var[217], b_in[1])
    CNOT2(eng, var[219], var[215], var[218])
    Toffoli_gate(eng, var[220], var[128], var[190])
    CNOT2(eng, var[221], var[220], var[200])
    OR_gate(eng, var[222], var[221], b_in[4])
    CNOT2(eng, var[223], var[50], var[222])
    OR_gate(eng, var[224], var[223], b_in[2])
    CNOT2(eng, var[225], var[219], var[224])
    Toffoli_gate(eng, var[226], var[225], b_in[0])
    CNOT2(eng, var[227], var[213], var[226])
    Toffoli_gate(eng, var[228], var[227], b_in[3])
    CNOT2(eng, out[0], var[205], var[228])
    Toffoli_gate(eng, var[230], var[174], var[117])
    CNOT2(eng, var[231], var[230], var[45])
    OR_gate(eng, var[232], var[231], b_in[5])
    CNOT2(eng, var[233], var[103], var[232])
    Toffoli_gate(eng, var[234], var[233], var[48])
    CNOT2(eng, var[235], var[234], var[19])
    Toffoli_gate(eng, var[236], var[116], b_in[0])
    CNOT2(eng, var[237], var[235], var[236])
    Toffoli_gate(eng, var[238], var[237], b_in[4])
    CNOT2(eng, var[239], var[233], var[238])
    Toffoli_gate(eng, var[240], var[85], var[9])
    CNOT2(eng, var[241], var[240], var[63])
    CNOT2(eng, var[242], var[114], b_in[7])
    Toffoli_gate(eng, var[243], var[242], var[74])
    Toffoli_gate(eng, var[244], var[243], b_in[0])
    CNOT2(eng, var[245], var[241], var[244])
    CNOT2(eng, var[246], var[143], var[198])
    CNOT2(eng, var[247], var[246], var[18])
    OR_gate(eng, var[248], var[247], b_in[2])
    CNOT2(eng, var[249], var[67], var[248])
    Toffoli_gate(eng, var[250], var[249], b_in[4])
    CNOT2(eng, var[251], var[245], var[250])
    Toffoli_gate(eng, var[252], var[251], b_in[1])
    CNOT2(eng, var[253], var[239], var[252])
    Toffoli_gate(eng, var[254], var[172], var[226])
    CNOT2(eng, var[255], var[254], var[23])
    Toffoli_gate(eng, var[256], var[162], b_in[4])
    CNOT2(eng, var[257], var[255], var[256])
    Toffoli_gate(eng, var[258], var[63], var[191])
    CNOT2(eng, var[259], var[258], var[26])
    Toffoli_gate(eng, var[260], var[94], var[82])
    CNOT2(eng, var[261], var[260], var[169])
    Toffoli_gate(eng, var[262], var[261], b_in[1])
    CNOT2(eng, var[263], var[259], var[262])
    OR_gate(eng, var[264], var[263], b_in[0])
    CNOT2(eng, var[265], var[257], var[264])
    Toffoli_gate(eng, var[266], var[114], var[148])
    CNOT2(eng, var[267], var[266], out[3])
    OR_gate(eng, var[268], var[267], b_in[0])
    CNOT2(eng, var[269], var[214], var[268])
    CNOT2(eng, var[270], var[236], var[117])
    CNOT2(eng, var[271], var[270], var[241])
    Toffoli_gate(eng, var[272], var[271], b_in[2])
    CNOT2(eng, var[273], var[269], var[272])
    OR_gate(eng, var[274], var[273], b_in[5])
    CNOT2(eng, var[275], var[265], var[274])
    OR_gate(eng, var[276], var[275], b_in[3])
    CNOT2(eng, out[1], var[253], var[276])
    CNOT2(eng, var[278], var[260], var[123])
    Toffoli_gate(eng, var[279], var[278], var[261])
    CNOT2(eng, var[280], var[266], var[276])
    Toffoli_gate(eng, var[281], var[280], var[128])
    Toffoli_gate(eng, var[282], var[281], b_in[0])
    CNOT2(eng, var[283], var[279], var[282])
    CNOT2(eng, var[284], var[255], var[197])
    CNOT2(eng, var[285], var[284], var[167])
    Toffoli_gate(eng, var[286], var[285], b_in[2])
    CNOT2(eng, var[287], var[283], var[286])
    CNOT2(eng, var[288], var[100], var[109])
    Toffoli_gate(eng, var[289], var[288], var[188])
    CNOT2(eng, var[290], var[182], var[11])
    Toffoli_gate(eng, var[291], var[290], var[20])
    CNOT2(eng, var[292], var[285], var[217])
    CNOT2(eng, var[293], var[292], var[132])
    Toffoli_gate(eng, var[294], var[293], b_in[0])
    CNOT2(eng, var[295], var[291], var[294])
    Toffoli_gate(eng, var[296], var[295], b_in[6])
    CNOT2(eng, var[297], var[289], var[296])
    OR_gate(eng, var[298], var[297], b_in[4])
    CNOT2(eng, var[299], var[287], var[298])
    Toffoli_gate(eng, var[300], var[81], var[273])
    CNOT2(eng, var[301], var[300], var[122])
    OR_gate(eng, var[302], var[301], b_in[3])
    CNOT2(eng, var[303], var[243], var[302])
    CNOT2(eng, var[304], var[72], var[87])
    CNOT2(eng, var[305], var[304], var[293])
    Toffoli_gate(eng, var[306], var[201], b_in[2])
    CNOT2(eng, var[307], var[305], var[306])
    Toffoli_gate(eng, var[308], var[307], b_in[1])
    CNOT2(eng, var[309], var[303], var[308])
    Toffoli_gate(eng, var[310], var[46], var[275])
    CNOT2(eng, var[311], var[310], var[268])
    Toffoli_gate(eng, var[312], var[73], var[302])
    CNOT2(eng, var[313], var[312], var[191])
    Toffoli_gate(eng, var[314], var[313], b_in[4])
    CNOT2(eng, var[315], var[75], var[314])
    Toffoli_gate(eng, var[316], var[315], b_in[2])
    CNOT2(eng, var[317], var[311], var[316])
    Toffoli_gate(eng, var[318], var[317], b_in[5])
    CNOT2(eng, var[319], var[309], var[318])
    OR_gate(eng, var[320], var[319], b_in[7])
    CNOT2(eng, out[7], var[299], var[320])
    CNOT2(eng, var[322], var[264], var[214])
    CNOT2(eng, var[323], var[322], var[110])
    Toffoli_gate(eng, var[324], var[323], b_in[3])
    CNOT2(eng, var[325], var[209], var[324])
    Toffoli_gate(eng, var[326], var[303], var[251])
    CNOT2(eng, var[327], var[326], var[309])
    OR_gate(eng, var[328], var[178], b_in[2])
    CNOT2(eng, var[329], var[327], var[328])
    OR_gate(eng, var[330], var[329], b_in[7])
    CNOT2(eng, var[331], var[325], var[330])
    XCNOT(eng, var[332], var[313])
    CNOT2(eng, var[333], b_in[4], var[280])
    CNOT2(eng, var[334], var[333], var[305])
    OR_gate(eng, var[335], var[334], b_in[2])
    CNOT2(eng, var[336], var[332], var[335])
    CNOT2(eng, var[337], var[11], var[326])
    CNOT2(eng, var[338], var[337], var[113])
    OR_gate(eng, var[339], var[280], b_in[6])
    CNOT2(eng, var[340], var[338], var[339])
    OR_gate(eng, var[341], var[340], b_in[7])
    CNOT2(eng, var[342], var[336], var[341])
    OR_gate(eng, var[343], var[342], b_in[1])
    CNOT2(eng, var[344], var[331], var[343])
    Toffoli_gate(eng, var[345], var[128], var[309])
    CNOT2(eng, var[346], var[345], var[270])
    Toffoli_gate(eng, var[347], var[88], var[198])
    CNOT2(eng, var[348], var[347], var[23])
    Toffoli_gate(eng, var[349], var[348], b_in[1])
    CNOT2(eng, var[350], var[346], var[349])
    CNOT2(eng, var[351], var[225], var[65])
    Toffoli_gate(eng, var[352], var[351], var[231])
    Toffoli_gate(eng, var[353], var[352], b_in[2])
    CNOT2(eng, var[354], var[350], var[353])
    CNOT2(eng, var[355], var[211], var[227])
    CNOT2(eng, var[356], var[355], var[8])
    XCNOT(eng, var[357], var[117])
    Toffoli_gate(eng, var[358], var[357], b_in[6])
    CNOT2(eng, var[359], var[356], var[358])
    CNOT2(eng, var[360], var[139], var[150])
    Toffoli_gate(eng, var[361], var[360], var[63])
    Toffoli_gate(eng, var[362], var[361], b_in[3])
    CNOT2(eng, var[363], var[359], var[362])
    OR_gate(eng, var[364], var[363], b_in[4])
    CNOT2(eng, var[365], var[354], var[364])
    Toffoli_gate(eng, var[366], var[365], b_in[0])
    CNOT2(eng, out[4], var[344], var[366])
    Toffoli_gate(eng, var[368], var[302], var[330])
    CNOT2(eng, var[369], var[368], var[78])
    CNOT2(eng, var[370], var[179], out[1])
    CNOT2(eng, var[371], var[370], var[346])
    Toffoli_gate(eng, var[372], var[183], var[251])
    CNOT2(eng, var[373], var[372], var[182])
    Toffoli_gate(eng, var[374], var[373], b_in[1])
    CNOT2(eng, var[375], var[371], var[374])
    OR_gate(eng, var[376], var[375], b_in[0])
    CNOT2(eng, var[377], var[369], var[376])
    CNOT2(eng, var[378], var[333], var[233])
    Toffoli_gate(eng, var[379], var[378], var[246])
    CNOT2(eng, var[380], var[314], var[288])
    CNOT2(eng, var[381], var[380], var[139])
    Toffoli_gate(eng, var[382], var[381], b_in[1])
    CNOT2(eng, var[383], var[379], var[382])
    CNOT2(eng, var[384], var[325], var[357])
    CNOT2(eng, var[385], var[384], var[288])
    OR_gate(eng, var[386], var[385], b_in[0])
    CNOT2(eng, var[387], var[383], var[386])
    Toffoli_gate(eng, var[388], var[387], b_in[6])
    CNOT2(eng, var[389], var[377], var[388])
    CNOT2(eng, var[390], out[4], var[329])
    CNOT2(eng, var[391], var[390], var[324])
    Toffoli_gate(eng, var[392], out[5], var[374])
    CNOT2(eng, var[393], var[392], var[189])
    Toffoli_gate(eng, var[394], var[393], b_in[0])
    CNOT2(eng, var[395], var[391], var[394])
    CNOT2(eng, var[396], var[288], var[164])
    CNOT2(eng, var[397], var[396], var[78])
    Toffoli_gate(eng, var[398], var[397], b_in[3])
    CNOT2(eng, var[399], var[276], var[398])
    Toffoli_gate(eng, var[400], var[399], b_in[4])
    CNOT2(eng, var[401], var[395], var[400])
    CNOT2(eng, var[402], var[134], var[273])
    CNOT2(eng, var[403], var[402], var[349])
    CNOT2(eng, var[404], var[238], var[8])
    Toffoli_gate(eng, var[405], var[404], var[369])
    Toffoli_gate(eng, var[406], var[57], b_in[4])
    CNOT2(eng, var[407], var[405], var[406])
    Toffoli_gate(eng, var[408], var[407], b_in[7])
    CNOT2(eng, var[409], var[403], var[408])
    Toffoli_gate(eng, var[410], var[409], b_in[2])
    CNOT2(eng, var[411], var[401], var[410])
    Toffoli_gate(eng, var[412], var[411], b_in[5])
    CNOT2(eng, out[6], var[389], var[412])

def AES_Sbox2(eng, b_in, var, out):
    CNOT2(eng, var[8], b_in[5], b_in[6])
    CNOT2(eng, var[9], var[8], b_in[1])
    CNOT2(eng, var[10], b_in[1], b_in[3])
    Toffoli_gate(eng, var[11], var[10], b_in[5])
    OR_gate(eng, var[12], var[11], b_in[0])
    CNOT2(eng, var[13], var[9], var[12])
    CNOT2(eng, var[14], var[12], b_in[6])
    Toffoli_gate(eng, var[15], var[14], var[8])
    XCNOT(eng, var[16], var[13])
    OR_gate(eng, var[17], var[16], b_in[3])
    CNOT2(eng, var[18], var[15], var[17])
    OR_gate(eng, var[19], var[18], b_in[1])
    CNOT2(eng, var[20], var[13], var[19])
    Toffoli_gate(eng, var[21], b_in[3], var[15])
    CNOT2(eng, var[22], var[21], var[20])
    OR_gate(eng, var[23], var[22], b_in[5])
    CNOT2(eng, var[24], var[14], var[23])
    OR_gate(eng, var[25], b_in[3], b_in[1])
    CNOT2(eng, var[26], var[22], var[25])
    OR_gate(eng, var[27], var[26], b_in[6])
    CNOT2(eng, var[28], var[24], var[27])
    OR_gate(eng, var[29], var[28], b_in[7])
    CNOT2(eng, var[30], var[20], var[29])
    CNOT2(eng, var[31], var[13], var[17])
    Toffoli_gate(eng, var[32], var[31], var[9])
    CNOT2(eng, var[33], b_in[4], var[10])
    Toffoli_gate(eng, var[34], var[33], var[22])
    CNOT2(eng, var[35], var[34], b_in[6])
    Toffoli_gate(eng, var[36], var[35], b_in[0])
    CNOT2(eng, var[37], var[32], var[36])
    CNOT2(eng, var[38], var[36], var[19])
    CNOT2(eng, var[39], var[38], b_in[0])
    Toffoli_gate(eng, var[40], var[39], b_in[3])
    CNOT2(eng, var[41], var[36], var[40])
    CNOT2(eng, var[42], var[39], var[27])
    CNOT2(eng, var[43], var[42], var[32])
    Toffoli_gate(eng, var[44], var[43], b_in[1])
    CNOT2(eng, var[45], var[41], var[44])
    Toffoli_gate(eng, var[46], var[45], b_in[7])
    CNOT2(eng, var[47], var[37], var[46])
    Toffoli_gate(eng, var[48], var[47], b_in[4])
    CNOT2(eng, var[49], var[30], var[48])
    CNOT2(eng, var[50], var[13], var[28])
    Toffoli_gate(eng, var[51], var[50], var[23])
    CNOT2(eng, var[52], var[44], var[13])
    Toffoli_gate(eng, var[53], var[52], var[50])
    OR_gate(eng, var[54], var[53], b_in[7])
    CNOT2(eng, var[55], var[51], var[54])
    Toffoli_gate(eng, var[56], var[33], var[38])
    CNOT2(eng, var[57], var[56], var[20])
    Toffoli_gate(eng, var[58], var[38], var[19])
    CNOT2(eng, var[59], var[58], var[8])
    OR_gate(eng, var[60], var[59], b_in[7])
    CNOT2(eng, var[61], var[57], var[60])
    Toffoli_gate(eng, var[62], var[61], b_in[0])
    CNOT2(eng, var[63], var[55], var[62])
    Toffoli_gate(eng, var[64], var[13], var[43])
    CNOT2(eng, var[65], var[64], var[15])
    Toffoli_gate(eng, var[66], var[43], b_in[3])
    CNOT2(eng, var[67], var[65], var[66])
    CNOT2(eng, var[68], var[36], var[18])
    CNOT2(eng, var[69], var[68], var[26])
    Toffoli_gate(eng, var[70], var[16], b_in[5])
    CNOT2(eng, var[71], var[69], var[70])
    Toffoli_gate(eng, var[72], var[71], b_in[7])
    CNOT2(eng, var[73], var[67], var[72])
    Toffoli_gate(eng, var[74], var[73], b_in[4])
    CNOT2(eng, var[75], var[63], var[74])
    Toffoli_gate(eng, var[76], var[75], b_in[2])
    CNOT2(eng, out[1], var[49], var[76])
    Toffoli_gate(eng, var[78], var[39], var[61])
    CNOT2(eng, var[79], var[78], var[14])
    Toffoli_gate(eng, var[80], var[52], var[54])
    CNOT2(eng, var[81], var[80], var[10])
    Toffoli_gate(eng, var[82], var[81], b_in[4])
    CNOT2(eng, var[83], var[79], var[82])
    CNOT2(eng, var[84], var[47], var[55])
    CNOT2(eng, var[85], var[84], var[60])
    OR_gate(eng, var[86], var[85], b_in[5])
    CNOT2(eng, var[87], b_in[7], var[86])
    OR_gate(eng, var[88], var[87], b_in[1])
    CNOT2(eng, var[89], var[83], var[88])
    Toffoli_gate(eng, var[90], var[37], var[63])
    CNOT2(eng, var[91], var[90], var[75])
    Toffoli_gate(eng, var[92], var[79], var[35])
    CNOT2(eng, var[93], var[92], var[48])
    Toffoli_gate(eng, var[94], var[93], b_in[5])
    CNOT2(eng, var[95], var[91], var[94])
    CNOT2(eng, var[96], b_in[4], var[34])
    CNOT2(eng, var[97], var[96], var[29])
    CNOT2(eng, var[98], var[35], var[86])
    CNOT2(eng, var[99], var[98], var[95])
    Toffoli_gate(eng, var[100], var[99], b_in[0])
    CNOT2(eng, var[101], var[97], var[100])
    OR_gate(eng, var[102], var[101], b_in[1])
    CNOT2(eng, var[103], var[95], var[102])
    Toffoli_gate(eng, var[104], var[103], b_in[3])
    CNOT2(eng, var[105], var[89], var[104])
    CNOT2(eng, var[106], var[105], var[50])
    Toffoli_gate(eng, var[107], var[106], var[96])
    Toffoli_gate(eng, var[108], var[54], var[78])
    CNOT2(eng, var[109], var[108], var[95])
    Toffoli_gate(eng, var[110], var[109], b_in[0])
    CNOT2(eng, var[111], var[107], var[110])
    Toffoli_gate(eng, var[112], var[49], var[73])
    CNOT2(eng, var[113], var[112], var[91])
    OR_gate(eng, var[114], var[113], b_in[5])
    CNOT2(eng, var[115], var[45], var[114])
    Toffoli_gate(eng, var[116], var[115], b_in[1])
    CNOT2(eng, var[117], var[111], var[116])
    CNOT2(eng, var[118], var[82], var[90])
    Toffoli_gate(eng, var[119], var[118], b_in[5])
    Toffoli_gate(eng, var[120], var[92], b_in[7])
    CNOT2(eng, var[121], var[119], var[120])
    CNOT2(eng, var[122], var[103], var[78])
    CNOT2(eng, var[123], var[122], var[49])
    Toffoli_gate(eng, var[124], var[14], b_in[7])
    CNOT2(eng, var[125], var[123], var[124])
    OR_gate(eng, var[126], var[125], b_in[5])
    CNOT2(eng, var[127], var[121], var[126])
    OR_gate(eng, var[128], var[127], b_in[3])
    CNOT2(eng, var[129], var[117], var[128])
    Toffoli_gate(eng, var[130], var[129], b_in[2])
    CNOT2(eng, out[0], var[105], var[130])
    Toffoli_gate(eng, var[132], var[113], var[107])
    CNOT2(eng, var[133], var[132], var[56])
    Toffoli_gate(eng, var[134], var[32], b_in[2])
    CNOT2(eng, var[135], var[133], var[134])
    CNOT2(eng, var[136], var[47], var[125])
    CNOT2(eng, var[137], var[136], var[57])
    Toffoli_gate(eng, var[138], var[122], var[29])
    CNOT2(eng, var[139], var[138], var[117])
    Toffoli_gate(eng, var[140], var[139], b_in[2])
    CNOT2(eng, var[141], var[137], var[140])
    OR_gate(eng, var[142], var[141], b_in[4])
    CNOT2(eng, var[143], var[135], var[142])
    CNOT2(eng, var[144], b_in[7], var[128])
    CNOT2(eng, var[145], var[144], var[107])
    OR_gate(eng, var[146], out[0], b_in[0])
    CNOT2(eng, var[147], var[145], var[146])
    CNOT2(eng, var[148], var[114], var[104])
    CNOT2(eng, var[149], var[148], var[118])
    OR_gate(eng, var[150], var[149], b_in[1])
    CNOT2(eng, var[151], var[46], var[150])
    Toffoli_gate(eng, var[152], var[151], b_in[2])
    CNOT2(eng, var[153], var[147], var[152])
    Toffoli_gate(eng, var[154], var[153], b_in[6])
    CNOT2(eng, var[155], var[143], var[154])
    Toffoli_gate(eng, var[156], var[121], var[57])
    CNOT2(eng, var[157], var[156], var[117])
    OR_gate(eng, var[158], var[157], b_in[3])
    CNOT2(eng, var[159], var[44], var[158])
    CNOT2(eng, var[160], var[139], var[152])
    Toffoli_gate(eng, var[161], var[160], var[59])
    CNOT2(eng, var[162], var[56], var[161])
    CNOT2(eng, var[163], var[162], var[27])
    Toffoli_gate(eng, var[164], var[163], b_in[0])
    CNOT2(eng, var[165], var[161], var[164])
    Toffoli_gate(eng, var[166], var[165], b_in[2])
    CNOT2(eng, var[167], var[159], var[166])
    Toffoli_gate(eng, var[168], var[91], var[133])
    CNOT2(eng, var[169], var[168], var[49])
    OR_gate(eng, var[170], var[169], b_in[3])
    CNOT2(eng, var[171], var[154], var[170])
    CNOT2(eng, var[172], var[94], var[90])
    CNOT2(eng, var[173], var[172], var[111])
    OR_gate(eng, var[174], var[145], b_in[0])
    CNOT2(eng, var[175], var[173], var[174])
    OR_gate(eng, var[176], var[175], b_in[2])
    CNOT2(eng, var[177], var[171], var[176])
    OR_gate(eng, var[178], var[177], b_in[7])
    CNOT2(eng, var[179], var[167], var[178])
    Toffoli_gate(eng, var[180], var[179], b_in[5])
    CNOT2(eng, out[2], var[155], var[180])
    CNOT2(eng, var[182], var[81], var[127])
    Toffoli_gate(eng, var[183], var[182], var[55])
    XCNOT(eng, var[184], var[108])
    OR_gate(eng, var[185], var[184], b_in[3])
    CNOT2(eng, var[186], var[183], var[185])
    CNOT2(eng, var[187], var[58], var[44])
    CNOT2(eng, var[188], var[187], var[80])
    OR_gate(eng, var[189], var[100], b_in[6])
    CNOT2(eng, var[190], var[188], var[189])
    Toffoli_gate(eng, var[191], var[190], b_in[5])
    CNOT2(eng, var[192], var[186], var[191])
    Toffoli_gate(eng, var[193], var[189], var[145])
    CNOT2(eng, var[194], var[193], var[109])
    Toffoli_gate(eng, var[195], var[194], b_in[3])
    CNOT2(eng, var[196], var[116], var[195])
    CNOT2(eng, var[197], var[27], var[66])
    Toffoli_gate(eng, var[198], var[197], var[89])
    OR_gate(eng, var[199], var[198], b_in[1])
    CNOT2(eng, var[200], var[168], var[199])
    OR_gate(eng, var[201], var[200], b_in[0])
    CNOT2(eng, var[202], var[196], var[201])
    OR_gate(eng, var[203], var[202], b_in[4])
    CNOT2(eng, var[204], var[192], var[203])
    XCNOT(eng, var[205], var[74])
    CNOT2(eng, var[206], var[66], var[113])
    CNOT2(eng, var[207], var[206], var[101])
    Toffoli_gate(eng, var[208], var[207], b_in[7])
    CNOT2(eng, var[209], var[205], var[208])
    XCNOT(eng, var[210], var[102])
    CNOT2(eng, var[211], var[172], var[101])
    CNOT2(eng, var[212], var[211], var[186])
    OR_gate(eng, var[213], var[212], b_in[5])
    CNOT2(eng, var[214], var[210], var[213])
    OR_gate(eng, var[215], var[214], b_in[3])
    CNOT2(eng, var[216], var[209], var[215])
    CNOT2(eng, var[217], var[93], var[125])
    Toffoli_gate(eng, var[218], var[217], b_in[4])
    OR_gate(eng, var[219], var[218], b_in[0])
    CNOT2(eng, var[220], var[72], var[219])
    Toffoli_gate(eng, var[221], var[116], var[190])
    CNOT2(eng, var[222], var[221], b_in[7])
    OR_gate(eng, var[223], var[179], b_in[4])
    CNOT2(eng, var[224], var[222], var[223])
    OR_gate(eng, var[225], var[224], b_in[5])
    CNOT2(eng, var[226], var[220], var[225])
    Toffoli_gate(eng, var[227], var[226], b_in[6])
    CNOT2(eng, var[228], var[216], var[227])
    OR_gate(eng, var[229], var[228], b_in[2])
    CNOT2(eng, out[6], var[204], var[229])
    Toffoli_gate(eng, var[231], out[2], var[76])
    CNOT2(eng, var[232], var[231], var[182])
    Toffoli_gate(eng, var[233], var[124], b_in[3])
    CNOT2(eng, var[234], var[232], var[233])
    CNOT2(eng, var[235], var[39], var[210])
    CNOT2(eng, var[236], var[235], var[14])
    CNOT2(eng, var[237], var[116], var[223])
    CNOT2(eng, var[238], var[237], var[124])
    Toffoli_gate(eng, var[239], var[238], b_in[0])
    CNOT2(eng, var[240], var[236], var[239])
    OR_gate(eng, var[241], var[240], b_in[1])
    CNOT2(eng, var[242], var[234], var[241])
    Toffoli_gate(eng, var[243], var[71], var[127])
    CNOT2(eng, var[244], var[243], b_in[7])
    Toffoli_gate(eng, var[245], var[244], b_in[6])
    CNOT2(eng, var[246], var[102], var[245])
    CNOT2(eng, var[247], var[141], var[138])
    CNOT2(eng, var[248], var[247], var[79])
    OR_gate(eng, var[249], var[135], b_in[5])
    CNOT2(eng, var[250], var[248], var[249])
    OR_gate(eng, var[251], var[250], b_in[0])
    CNOT2(eng, var[252], var[246], var[251])
    Toffoli_gate(eng, var[253], var[252], b_in[4])
    CNOT2(eng, var[254], var[242], var[253])
    XCNOT(eng, var[255], var[225])
    CNOT2(eng, var[256], var[59], var[211])
    CNOT2(eng, var[257], var[256], var[224])
    OR_gate(eng, var[258], var[257], b_in[1])
    CNOT2(eng, var[259], var[255], var[258])
    Toffoli_gate(eng, var[260], var[95], var[211])
    CNOT2(eng, var[261], var[260], out[1])
    Toffoli_gate(eng, var[262], var[261], b_in[7])
    CNOT2(eng, var[263], var[24], var[262])
    Toffoli_gate(eng, var[264], var[263], b_in[0])
    CNOT2(eng, var[265], var[259], var[264])
    CNOT2(eng, var[266], var[86], var[23])
    CNOT2(eng, var[267], var[266], var[85])
    CNOT2(eng, var[268], var[115], var[69])
    CNOT2(eng, var[269], var[268], out[6])
    Toffoli_gate(eng, var[270], var[269], b_in[0])
    CNOT2(eng, var[271], var[267], var[270])
    CNOT2(eng, var[272], var[190], var[224])
    Toffoli_gate(eng, var[273], var[272], var[197])
    Toffoli_gate(eng, var[274], var[273], b_in[6])
    CNOT2(eng, var[275], var[271], var[274])
    OR_gate(eng, var[276], var[275], b_in[4])
    CNOT2(eng, var[277], var[265], var[276])
    OR_gate(eng, var[278], var[277], b_in[2])
    CNOT2(eng, out[3], var[254], var[278])
    XCNOT(eng, var[280], var[213])
    Toffoli_gate(eng, var[281], var[187], var[146])
    CNOT2(eng, var[282], var[281], var[60])
    OR_gate(eng, var[283], var[282], b_in[0])
    CNOT2(eng, var[284], var[280], var[283])
    Toffoli_gate(eng, var[285], var[95], var[213])
    CNOT2(eng, var[286], var[285], var[126])
    Toffoli_gate(eng, var[287], var[286], b_in[0])
    CNOT2(eng, var[288], var[35], var[287])
    Toffoli_gate(eng, var[289], var[288], b_in[3])
    CNOT2(eng, var[290], var[284], var[289])
    CNOT2(eng, var[291], var[184], var[59])
    CNOT2(eng, var[292], var[291], var[235])
    Toffoli_gate(eng, var[293], var[12], b_in[1])
    CNOT2(eng, var[294], var[292], var[293])
    CNOT2(eng, var[295], var[282], var[268])
    Toffoli_gate(eng, var[296], var[295], var[50])
    Toffoli_gate(eng, var[297], var[27], b_in[0])
    (eng, var[298], var[296], var[297])
    OR_gate(eng, var[299], var[298], b_in[5])
    CNOT2(eng, var[300], var[294], var[299])
    OR_gate(eng, var[301], var[300], b_in[4])
    CNOT2(eng, var[302], var[290], var[301])
    CNOT2(eng, var[303], var[139], var[261])
    CNOT2(eng, var[304], var[303], var[18])
    Toffoli_gate(eng, var[305], var[262], b_in[7])
    CNOT2(eng, var[306], var[304], var[305])
    CNOT2(eng, var[307], var[26], var[175])
    CNOT2(eng, var[308], var[307], var[180])
    Toffoli_gate(eng, var[309], var[286], b_in[7])
    CNOT2(eng, var[310], var[308], var[309])
    OR_gate(eng, var[311], var[310], b_in[1])
    CNOT2(eng, var[312], var[306], var[311])
    Toffoli_gate(eng, var[313], var[282], var[203])
    CNOT2(eng, var[314], var[313], var[212])
    Toffoli_gate(eng, var[315], var[255], var[269])
    CNOT2(eng, var[316], var[315], b_in[4])
    CNOT2(eng, var[317], var[110], var[218])
    CNOT2(eng, var[318], var[317], var[314])
    Toffoli_gate(eng, var[319], var[318], b_in[0])
    CNOT2(eng, var[320], var[316], var[319])
    OR_gate(eng, var[321], var[320], b_in[1])
    CNOT2(eng, var[322], var[314], var[321])
    Toffoli_gate(eng, var[323], var[322], b_in[6])
    CNOT2(eng, var[324], var[312], var[323])
    Toffoli_gate(eng, var[325], var[324], b_in[2])
    CNOT2(eng, out[4], var[302], var[325])
    CNOT2(eng, var[327], var[294], var[8])
    CNOT2(eng, var[328], var[327], var[92])
    OR_gate(eng, var[329], var[328], b_in[0])
    CNOT2(eng, var[330], var[149], var[329])
    XCNOT(eng, var[331], var[304])
    Toffoli_gate(eng, var[332], var[137], b_in[5])
    CNOT2(eng, var[333], var[332], var[97])
    Toffoli_gate(eng, var[334], var[333], b_in[6])
    CNOT2(eng, var[335], var[331], var[334])
    Toffoli_gate(eng, var[336], var[335], b_in[3])
    CNOT2(eng, var[337], var[330], var[336])
    CNOT2(eng, var[338], var[234], var[174])
    CNOT2(eng, var[339], var[338], var[136])
    CNOT2(eng, var[340], var[248], var[267])
    Toffoli_gate(eng, var[341], var[340], var[291])
    Toffoli_gate(eng, var[342], var[341], b_in[0])
    CNOT2(eng, var[343], var[339], var[342])
    Toffoli_gate(eng, var[344], var[311], var[340])
    CNOT2(eng, var[345], var[344], var[178])
    Toffoli_gate(eng, var[346], var[345], b_in[4])
    CNOT2(eng, var[347], var[343], var[346])
    Toffoli_gate(eng, var[348], var[347], b_in[2])
    CNOT2(eng, var[349], var[337], var[348])
    CNOT2(eng, var[350], var[321], var[341])
    CNOT2(eng, var[351], var[350], var[290])
    Toffoli_gate(eng, var[352], var[27], b_in[2])
    CNOT2(eng, var[353], var[351], var[352])
    Toffoli_gate(eng, var[354], var[261], var[232])
    CNOT2(eng, var[355], var[354], var[269])
    Toffoli_gate(eng, var[356], var[196], b_in[4])
    CNOT2(eng, var[357], var[355], var[356])
    Toffoli_gate(eng, var[358], var[357], b_in[1])
    CNOT2(eng, var[359], var[353], var[358])
    Toffoli_gate(eng, var[360], var[114], var[349])
    CNOT2(eng, var[361], var[360], var[355])
    CNOT2(eng, var[362], var[147], var[238])
    CNOT2(eng, var[363], var[362], var[250])
    CNOT2(eng, var[364], var[303], var[349])
    Toffoli_gate(eng, var[365], var[364], var[171])
    Toffoli_gate(eng, var[366], var[365], b_in[1])
    CNOT2(eng, var[367], var[363], var[366])
    Toffoli_gate(eng, var[368], var[367], b_in[3])
    CNOT2(eng, var[369], var[361], var[368])
    Toffoli_gate(eng, var[370], var[369], b_in[0])
    CNOT2(eng, var[371], var[359], var[370])
    Toffoli_gate(eng, var[372], var[371], b_in[7])
    CNOT2(eng, out[7], var[349], var[372])
    CNOT2(eng, var[374], var[159], var[268])
    CNOT2(eng, var[375], var[374], b_in[0])
    CNOT2(eng, var[376], var[352], var[261])
    Toffoli_gate(eng, var[377], var[376], var[173])
    CNOT2(eng, var[378], var[350], out[6])
    CNOT2(eng, var[379], var[378], var[273])
    Toffoli_gate(eng, var[380], var[379], b_in[0])
    CNOT2(eng, var[381], var[377], var[380])
    Toffoli_gate(eng, var[382], var[381], b_in[6])
    CNOT2(eng, var[383], var[375], var[382])
    XCNOT(eng, var[384], var[291])
    CNOT2(eng, var[385], var[233], var[269])
    CNOT2(eng, var[386], var[385], var[123])
    OR_gate(eng, var[387], var[386], b_in[1])
    CNOT2(eng, var[388], var[384], var[387])
    CNOT2(eng, var[389], var[295], var[275])
    CNOT2(eng, var[390], var[389], var[212])
    Toffoli_gate(eng, var[391], var[390], b_in[0])
    CNOT2(eng, var[392], var[148], var[391])
    OR_gate(eng, var[393], var[392], b_in[3])
    CNOT2(eng, var[394], var[388], var[393])
    OR_gate(eng, var[395], var[394], b_in[2])
    CNOT2(eng, var[396], var[383], var[395])
    CNOT2(eng, var[397], var[241], var[377])
    CNOT2(eng, var[398], var[397], var[161])
    OR_gate(eng, var[399], var[398], b_in[6])
    CNOT2(eng, var[400], var[173], var[399])
    CNOT2(eng, var[401], var[94], var[170])
    Toffoli_gate(eng, var[402], var[401], var[203])
    OR_gate(eng, var[403], var[402], b_in[2])
    CNOT2(eng, var[404], var[161], var[403])
    Toffoli_gate(eng, var[405], var[404], b_in[1])
    CNOT2(eng, var[406], var[400], var[405])
    CNOT2(eng, var[407], var[381], var[149])
    Toffoli_gate(eng, var[408], var[407], var[187])
    Toffoli_gate(eng, var[409], var[171], var[309])
    CNOT2(eng, var[410], var[409], var[266])
    Toffoli_gate(eng, var[411], var[410], b_in[1])
    CNOT2(eng, var[412], var[408], var[411])
    CNOT2(eng, var[413], var[405], var[244])
    Toffoli_gate(eng, var[414], var[413], var[88])
    OR_gate(eng, var[415], var[414], b_in[2])
    CNOT2(eng, var[416], var[412], var[415])
    OR_gate(eng, var[417], var[416], b_in[0])
    CNOT2(eng, var[418], var[406], var[417])
    Toffoli_gate(eng, var[419], var[418], b_in[7])
    CNOT2(eng, out[5], var[396], var[419])


def AES_Sbox3(eng, b_in, var, out):
    CNOT2(eng, var[8], b_in[5], b_in[6])
    Toffoli_gate(eng, var[9], var[8], b_in[7])
    OR_gate(eng, var[10], b_in[6], b_in[0])
    CNOT2(eng, var[11], var[9], var[10])
    Toffoli_gate(eng, var[12], b_in[7], var[10])
    CNOT2(eng, var[13], var[12], var[8])
    Toffoli_gate(eng, var[14], var[13], b_in[1])
    CNOT2(eng, var[15], var[11], var[14])
    XCNOT(eng, var[16], var[13])
    Toffoli_gate(eng, var[17], var[15], b_in[0])
    CNOT2(eng, var[18], var[16], var[17])
    Toffoli_gate(eng, var[19], var[18], b_in[4])
    CNOT2(eng, var[20], var[15], var[19])
    CNOT2(eng, var[21], b_in[4], var[18])
    CNOT2(eng, var[22], var[21], b_in[7])
    CNOT2(eng, var[23], var[22], b_in[0])
    CNOT2(eng, var[24], var[23], var[10])
    Toffoli_gate(eng, var[25], var[24], b_in[4])
    CNOT2(eng, var[26], var[10], var[25])
    OR_gate(eng, var[27], var[26], b_in[1])
    CNOT2(eng, var[28], var[22], var[27])
    OR_gate(eng, var[29], var[28], b_in[5])
    CNOT2(eng, var[30], var[20], var[29])
    XCNOT(eng, var[31], b_in[4])
    Toffoli_gate(eng, var[32], var[31], b_in[0])
    CNOT2(eng, var[33], var[25], var[32])
    CNOT2(eng, var[34], var[17], var[24])
    Toffoli_gate(eng, var[35], var[34], var[23])
    OR_gate(eng, var[36], var[35], b_in[5])
    CNOT2(eng, var[37], var[33], var[36])
    CNOT2(eng, var[38], var[23], b_in[7])
    Toffoli_gate(eng, var[39], var[38], var[18])
    CNOT2(eng, var[40], var[28], var[17])
    CNOT2(eng, var[41], var[40], var[38])
    Toffoli_gate(eng, var[42], var[41], b_in[5])
    CNOT2(eng, var[43], var[39], var[42])
    OR_gate(eng, var[44], var[43], b_in[1])
    CNOT2(eng, var[45], var[37], var[44])
    Toffoli_gate(eng, var[46], var[45], b_in[3])
    CNOT2(eng, var[47], var[30], var[46])
    CNOT2(eng, var[48], b_in[5], var[47])
    CNOT2(eng, var[49], var[48], var[42])
    Toffoli_gate(eng, var[50], var[45], var[42])
    CNOT2(eng, var[51], var[50], var[19])
    OR_gate(eng, var[52], var[51], b_in[0])
    CNOT2(eng, var[53], var[49], var[52])
    Toffoli_gate(eng, var[54], var[37], var[31])
    CNOT2(eng, var[55], var[54], var[39])
    CNOT2(eng, var[56], var[42], var[12])
    Toffoli_gate(eng, var[57], var[56], b_in[0])
    OR_gate(eng, var[58], var[57], b_in[1])
    CNOT2(eng, var[59], var[55], var[58])
    OR_gate(eng, var[60], var[59], b_in[3])
    CNOT2(eng, var[61], var[53], var[60])
    Toffoli_gate(eng, var[62], var[58], var[12])
    CNOT2(eng, var[63], var[62], var[29])
    CNOT2(eng, var[64], b_in[4], var[28])
    CNOT2(eng, var[65], var[64], var[42])
    Toffoli_gate(eng, var[66], var[65], b_in[4])
    CNOT2(eng, var[67], var[63], var[66])
    OR_gate(eng, var[68], var[53], b_in[7])
    CNOT2(eng, var[69], var[39], var[68])
    OR_gate(eng, var[70], var[69], b_in[0])
    CNOT2(eng, var[71], var[41], var[70])
    Toffoli_gate(eng, var[72], var[71], b_in[3])
    CNOT2(eng, var[73], var[67], var[72])
    OR_gate(eng, var[74], var[73], b_in[6])
    CNOT2(eng, var[75], var[61], var[74])
    OR_gate(eng, var[76], var[75], b_in[2])
    CNOT2(eng, out[0], var[47], var[76])
    Toffoli_gate(eng, var[78], var[45], var[25])
    CNOT2(eng, var[79], var[78], var[55])
    Toffoli_gate(eng, var[80], var[44], var[45])
    CNOT2(eng, var[81], var[80], var[31])
    Toffoli_gate(eng, var[82], var[81], b_in[3])
    CNOT2(eng, var[83], var[79], var[82])
    CNOT2(eng, var[84], b_in[3], var[43])
    # CNOT2(eng, var[85], var[84])
    CNOT2(eng, var[86], var[83], var[31])
    Toffoli_gate(eng, var[87], var[86], var[67])
    Toffoli_gate(eng, var[88], var[87], b_in[1])
    CNOT2(eng, var[89], var[84], var[88])
    OR_gate(eng, var[90], var[89], b_in[0])
    CNOT2(eng, var[91], var[83], var[90])
    CNOT2(eng, var[92], var[70], b_in[1])
    CNOT2(eng, var[93], var[92], var[23])
    OR_gate(eng, var[94], var[93], b_in[6])
    CNOT2(eng, var[95], var[37], var[94])
    CNOT2(eng, var[96], var[89], var[31])
    CNOT2(eng, var[97], var[96], var[49])
    Toffoli_gate(eng, var[98], var[97], b_in[6])
    CNOT2(eng, var[99], var[65], var[98])
    OR_gate(eng, var[100], var[99], b_in[3])
    CNOT2(eng, var[101], var[95], var[100])
    Toffoli_gate(eng, var[102], var[101], b_in[7])
    CNOT2(eng, var[103], var[91], var[102])
    Toffoli_gate(eng, var[104], var[59], var[34])
    CNOT2(eng, var[105], var[104], var[69])
    Toffoli_gate(eng, var[106], var[99], var[67])
    CNOT2(eng, var[107], var[106], var[9])
    OR_gate(eng, var[108], var[107], b_in[0])
    CNOT2(eng, var[109], var[105], var[108])
    CNOT2(eng, var[110], var[93], var[106])
    CNOT2(eng, var[111], var[110], var[15])
    Toffoli_gate(eng, var[112], var[83], b_in[6])
    CNOT2(eng, var[113], var[111], var[112])
    OR_gate(eng, var[114], var[113], b_in[3])
    CNOT2(eng, var[115], var[109], var[114])
    Toffoli_gate(eng, var[116], var[48], var[55])
    CNOT2(eng, var[117], var[116], var[75])
    OR_gate(eng, var[118], var[117], b_in[6])
    CNOT2(eng, var[119], var[39], var[118])
    Toffoli_gate(eng, var[120], var[73], var[49])
    CNOT2(eng, var[121], var[120], var[37])
    CNOT2(eng, var[122], var[22], var[112])
    CNOT2(eng, var[123], var[122], var[120])
    Toffoli_gate(eng, var[124], var[123], b_in[0])
    CNOT2(eng, var[125], var[121], var[124])
    Toffoli_gate(eng, var[126], var[125], b_in[3])
    CNOT2(eng, var[127], var[119], var[126])
    OR_gate(eng, var[128], var[127], b_in[1])
    CNOT2(eng, var[129], var[115], var[128])
    Toffoli_gate(eng, var[130], var[129], b_in[2])
    CNOT2(eng, out[5], var[103], var[130])
    OR_gate(eng, var[132], var[47], b_in[2])
    CNOT2(eng, var[133], var[104], var[132])
    OR_gate(eng, var[134], var[17], b_in[2])
    CNOT2(eng, var[135], var[15], var[134])
    Toffoli_gate(eng, var[136], var[135], b_in[1])
    CNOT2(eng, var[137], var[133], var[136])
    Toffoli_gate(eng, var[138], var[134], var[70])
    CNOT2(eng, var[139], var[138], var[34])
    Toffoli_gate(eng, var[140], var[139], b_in[4])
    CNOT2(eng, var[141], var[137], var[140])
    CNOT2(eng, var[142], var[79], var[107])
    CNOT2(eng, var[143], var[142], b_in[6])
    OR_gate(eng, var[144], var[143], b_in[4])
    CNOT2(eng, var[145], var[119], var[144])
    CNOT2(eng, var[146], var[29], var[26])
    Toffoli_gate(eng, var[147], var[146], var[117])
    Toffoli_gate(eng, var[148], var[97], var[113])
    CNOT2(eng, var[149], var[148], var[140])
    Toffoli_gate(eng, var[150], var[149], b_in[0])
    CNOT2(eng, var[151], var[147], var[150])
    Toffoli_gate(eng, var[152], var[151], b_in[2])
    CNOT2(eng, var[153], var[145], var[152])
    Toffoli_gate(eng, var[154], var[153], b_in[3])
    CNOT2(eng, var[155], var[141], var[154])
    Toffoli_gate(eng, var[156], var[52], var[100])
    CNOT2(eng, var[157], var[156], var[125])
    Toffoli_gate(eng, var[158], var[36], var[129])
    CNOT2(eng, var[159], var[158], var[123])
    CNOT2(eng, var[160], var[100], var[81])
    CNOT | (var[160], var[161])
    Toffoli_gate(eng, var[162], var[161], b_in[0])
    CNOT2(eng, var[163], var[159], var[162])
    Toffoli_gate(eng, var[164], var[163], b_in[1])
    CNOT2(eng, var[165], var[157], var[164])
    Toffoli_gate(eng, var[166], var[80], var[75])
    CNOT2(eng, var[167], var[166], var[157])
    Toffoli_gate(eng, var[168], var[41], b_in[6])
    CNOT2(eng, var[169], var[167], var[168])
    CNOT2(eng, var[170], var[73], var[53])
    CNOT2(eng, var[171], var[170], var[118])
    CNOT2(eng, var[172], var[139], var[99])
    Toffoli_gate(eng, var[173], var[172], b_in[5])
    Toffoli_gate(eng, var[174], var[173], b_in[0])
    CNOT2(eng, var[175], var[171], var[174])
    OR_gate(eng, var[176], var[175], b_in[1])
    CNOT2(eng, var[177], var[169], var[176])
    Toffoli_gate(eng, var[178], var[177], b_in[2])
    CNOT2(eng, var[179], var[165], var[178])
    Toffoli_gate(eng, var[180], var[179], b_in[7])
    CNOT2(eng, out[1], var[155], var[180])
    XCNOT(eng, var[182], var[156])
    CNOT2(eng, var[183], var[30], var[104])
    CNOT2(eng, var[184], var[183], var[123])
    OR_gate(eng, var[185], var[184], b_in[5])
    CNOT2(eng, var[186], var[182], var[185])
    CNOT2(eng, var[187], var[166], var[160])
    Toffoli_gate(eng, var[188], var[187], var[105])
    CNOT2(eng, var[189], var[66], var[123])
    CNOT2(eng, var[190], var[189], var[27])
    Toffoli_gate(eng, var[191], var[190], b_in[0])
    CNOT2(eng, var[192], var[188], var[191])
    OR_gate(eng, var[193], var[192], b_in[2])
    CNOT2(eng, var[194], var[186], var[193])
    CNOT2(eng, var[195], var[114], var[64])
    CNOT2(eng, var[196], var[195], var[194])
    Toffoli_gate(eng, var[197], var[99], b_in[4])
    CNOT2(eng, var[198], var[196], var[197])
    CNOT2(eng, var[199], var[100], var[117])
    CNOT2(eng, var[200], var[199], var[50])
    OR_gate(eng, var[201], var[200], b_in[0])
    CNOT2(eng, var[202], var[180], var[201])
    Toffoli_gate(eng, var[203], var[202], b_in[2])
    CNOT2(eng, var[204], var[198], var[203])
    Toffoli_gate(eng, var[205], var[204], b_in[1])
    CNOT2(eng, var[206], var[194], var[205])
    Toffoli_gate(eng, var[207], var[167], out[0])
    CNOT2(eng, var[208], var[207], var[55])
    CNOT2(eng, var[209], var[82], var[18])
    #CNOT2(eng, var[210], var[209])
    CNOT | (var[209], var[210])
    Toffoli_gate(eng, var[211], var[210], b_in[0])
    CNOT2(eng, var[212], var[208], var[211])
    Toffoli_gate(eng, var[213], var[200], var[48])
    CNOT2(eng, var[214], var[213], b_in[1])
    OR_gate(eng, var[215], var[214], b_in[0])
    CNOT2(eng, var[216], var[113], var[215])
    OR_gate(eng, var[217], var[216], b_in[3])
    CNOT2(eng, var[218], var[212], var[217])
    CNOT2(eng, var[219], out[5], var[116])
    CNOT2(eng, var[220], var[219], var[30])
    Toffoli_gate(eng, var[221], var[211], b_in[5])
    CNOT2(eng, var[222], var[220], var[221])
    CNOT2(eng, var[223], var[191], var[67])
    Toffoli_gate(eng, var[224], var[223], var[61])
    OR_gate(eng, var[225], var[224], b_in[7])
    CNOT2(eng, var[226], var[222], var[225])
    OR_gate(eng, var[227], var[226], b_in[2])
    CNOT2(eng, var[228], var[218], var[227])
    OR_gate(eng, var[229], var[228], b_in[6])
    CNOT2(eng, out[4], var[206], var[229])
    CNOT2(eng, var[231], var[95], var[67])
    CNOT2(eng, var[232], var[231], var[179])
    OR_gate(eng, var[233], var[232], b_in[1])
    CNOT2(eng, var[234], var[86], var[233])
    Toffoli_gate(eng, var[235], var[155], out[1])
    CNOT2(eng, var[236], var[235], var[184])
    Toffoli_gate(eng, var[237], var[236], b_in[4])
    CNOT2(eng, var[238], var[207], var[237])
    OR_gate(eng, var[239], var[238], b_in[6])
    CNOT2(eng, var[240], var[234], var[239])
    CNOT2(eng, var[241], var[100], var[228])
    CNOT2(eng, var[242], var[241], var[223])
    OR_gate(eng, var[243], var[233], b_in[6])
    CNOT2(eng, var[244], var[242], var[243])
    CNOT2(eng, var[245], var[226], var[102])
    CNOT2(eng, var[246], var[245], var[183])
    CNOT2(eng, var[247], var[161], b_in[3])
    CNOT2(eng, var[248], var[247], var[175])
    Toffoli_gate(eng, var[249], var[248], b_in[1])
    CNOT2(eng, var[250], var[246], var[249])
    OR_gate(eng, var[251], var[250], b_in[4])
    CNOT2(eng, var[252], var[244], var[251])
    Toffoli_gate(eng, var[253], var[252], b_in[0])
    CNOT2(eng, var[254], var[240], var[253])
    Toffoli_gate(eng, var[255], var[223], var[148])
    CNOT2(eng, var[256], var[255], var[37])
    Toffoli_gate(eng, var[257], var[134], b_in[6])
    CNOT2(eng, var[258], var[256], var[257])
    Toffoli_gate(eng, var[259], var[223], var[212])
    CNOT2(eng, var[260], var[259], var[115])
    Toffoli_gate(eng, var[261], var[247], var[112])
    CNOT2(eng, var[262], var[261], var[117])
    Toffoli_gate(eng, var[263], var[262], b_in[1])
    CNOT2(eng, var[264], var[260], var[263])
    OR_gate(eng, var[265], var[264], b_in[0])
    CNOT2(eng, var[266], var[258], var[265])
    Toffoli_gate(eng, var[267], out[1], var[111])
    CNOT2(eng, var[268], var[267], var[228])
    OR_gate(eng, var[269], var[268], b_in[4])
    CNOT2(eng, var[270], var[241], var[269])
    Toffoli_gate(eng, var[271], var[166], var[235])
    CNOT2(eng, var[272], var[271], var[93])
    OR_gate(eng, var[273], var[272], b_in[0])
    CNOT2(eng, var[274], var[270], var[273])
    Toffoli_gate(eng, var[275], var[274], b_in[3])
    CNOT2(eng, var[276], var[266], var[275])
    OR_gate(eng, var[277], var[276], b_in[2])
    CNOT2(eng, out[7], var[254], var[277])
    CNOT2(eng, var[279], var[68], var[198])
    #CNOT2(eng, var[280], var[279])
    CNOT | (var[279], var[280])
    Toffoli_gate(eng, var[281], var[280], b_in[2])
    CNOT2(eng, var[282], var[151], var[281])
    Toffoli_gate(eng, var[283], var[134], var[132])
    CNOT2(eng, var[284], var[283], var[231])
    Toffoli_gate(eng, var[285], var[68], b_in[5])
    CNOT2(eng, var[286], var[284], var[285])
    OR_gate(eng, var[287], var[286], b_in[6])
    CNOT2(eng, var[288], var[282], var[287])
    Toffoli_gate(eng, var[289], var[15], var[26])
    CNOT2(eng, var[290], var[289], var[250])
    CNOT2(eng, var[291], var[244], var[277])
    #CNOT2(eng, var[292], var[291])
    CNOT | (var[291], var[292])
    CNOT2(eng, var[293], var[272], var[123])
    #CNOT2(eng, var[294], var[293])
    CNOT | (var[293], var[294])
    Toffoli_gate(eng, var[295], var[294], b_in[2])
    CNOT2(eng, var[296], var[292], var[295])
    Toffoli_gate(eng, var[297], var[296], b_in[0])
    CNOT2(eng, var[298], var[290], var[297])
    OR_gate(eng, var[299], var[298], b_in[1])
    CNOT2(eng, var[300], var[288], var[299])
    XCNOT(eng, var[301], var[59])
    Toffoli_gate(eng, var[302], var[91], var[92])
    CNOT2(eng, var[303], var[302], var[145])
    OR_gate(eng, var[304], var[303], b_in[6])
    CNOT2(eng, var[305], var[301], var[304])
    Toffoli_gate(eng, var[306], var[180], var[226])
    CNOT2(eng, var[307], var[306], var[279])
    OR_gate(eng, var[308], var[307], b_in[2])
    CNOT2(eng, var[309], var[305], var[308])
    Toffoli_gate(eng, var[310], var[30], var[172])
    CNOT2(eng, var[311], var[310], var[177])
    CNOT2(eng, var[312], var[47], var[135])
    CNOT2(eng, var[313], var[312], var[226])
    CNOT2(eng, var[314], var[34], var[288])
    Toffoli_gate(eng, var[315], var[314], var[118])
    Toffoli_gate(eng, var[316], var[315], b_in[1])
    CNOT2(eng, var[317], var[313], var[316])
    Toffoli_gate(eng, var[318], var[317], b_in[4])
    CNOT2(eng, var[319], var[311], var[318])
    Toffoli_gate(eng, var[320], var[319], b_in[0])
    CNOT2(eng, var[321], var[309], var[320])
    Toffoli_gate(eng, var[322], var[321], b_in[3])
    CNOT2(eng, out[6], var[300], var[322])
    Toffoli_gate(eng, var[324], var[308], var[288])
    CNOT2(eng, var[325], var[324], var[196])
    OR_gate(eng, var[326], var[276], b_in[3])
    CNOT2(eng, var[327], var[325], var[326])
    Toffoli_gate(eng, var[328], var[26], var[325])
    CNOT2(eng, var[329], var[328], var[313])
    XCNOT(eng, var[330], var[277])
    Toffoli_gate(eng, var[331], var[330], b_in[3])
    CNOT2(eng, var[332], var[329], var[331])
    Toffoli_gate(eng, var[333], var[332], b_in[7])
    CNOT2(eng, var[334], var[327], var[333])
    Toffoli_gate(eng, var[335], var[205], var[115])
    CNOT2(eng, var[336], var[335], var[330])
    Toffoli_gate(eng, var[337], var[327], b_in[5])
    CNOT2(eng, var[338], var[336], var[337])
    CNOT2(eng, var[339], var[269], var[299])
    Toffoli_gate(eng, var[340], var[339], var[313])
    OR_gate(eng, var[341], var[340], b_in[6])
    CNOT2(eng, var[342], var[196], var[341])
    OR_gate(eng, var[343], var[342], b_in[3])
    CNOT2(eng, var[344], var[338], var[343])
    Toffoli_gate(eng, var[345], var[344], b_in[0])
    CNOT2(eng, var[346], var[334], var[345])
    XCNOT(eng, var[347], var[72])
    Toffoli_gate(eng, var[348], var[339], var[207])
    CNOT2(eng, var[349], var[348], var[61])
    Toffoli_gate(eng, var[350], var[349], b_in[6])
    CNOT2(eng, var[351], var[347], var[350])
    Toffoli_gate(eng, var[352], var[23], var[307])
    CNOT2(eng, var[353], var[352], var[117])
    Toffoli_gate(eng, var[354], var[353], b_in[0])
    CNOT2(eng, var[355], var[151], var[354])
    Toffoli_gate(eng, var[356], var[355], b_in[7])
    CNOT2(eng, var[357], var[351], var[356])
    CNOT2(eng, var[358], var[127], var[34])
    #CNOT2(eng, var[359], var[358])
    CNOT | (var[358], var[359])
    OR_gate(eng, var[360], var[58], b_in[4])
    CNOT2(eng, var[361], var[359], var[360])
    Toffoli_gate(eng, var[362], var[63], var[113])
    CNOT2(eng, var[363], var[362], var[147])
    Toffoli_gate(eng, var[364], var[363], b_in[5])
    CNOT2(eng, var[365], var[361], var[364])
    Toffoli_gate(eng, var[366], var[365], b_in[2])
    CNOT2(eng, var[367], var[357], var[366])
    OR_gate(eng, var[368], var[367], b_in[1])
    CNOT2(eng, out[3], var[346], var[368])
    Toffoli_gate(eng, var[370], var[295], var[99])
    CNOT2(eng, var[371], var[370], var[276])
    OR_gate(eng, var[372], var[302], b_in[1])
    CNOT2(eng, var[373], var[371], var[372])
    CNOT2(eng, var[374], var[189], out[5])
    CNOT2(eng, var[375], var[374], var[231])
    OR_gate(eng, var[376], var[375], b_in[5])
    CNOT2(eng, var[377], var[281], var[376])
    Toffoli_gate(eng, var[378], var[377], b_in[0])
    CNOT2(eng, var[379], var[373], var[378])
    Toffoli_gate(eng, var[380], var[21], var[167])
    CNOT2(eng, var[381], var[380], var[106])
    Toffoli_gate(eng, var[382], var[146], var[201])
    CNOT2(eng, var[383], var[382], out[1])
    Toffoli_gate(eng, var[384], var[383], b_in[1])
    CNOT2(eng, var[385], var[381], var[384])
    Toffoli_gate(eng, var[386], var[282], var[16])
    CNOT2(eng, var[387], var[386], var[234])
    Toffoli_gate(eng, var[388], var[387], b_in[0])
    CNOT2(eng, var[389], var[385], var[388])
    Toffoli_gate(eng, var[390], var[389], b_in[4])
    CNOT2(eng, var[391], var[379], var[390])
    Toffoli_gate(eng, var[392], var[16], var[192])
    CNOT2(eng, var[393], var[392], var[380])
    Toffoli_gate(eng, var[394], var[165], b_in[6])
    CNOT2(eng, var[395], var[394], var[182])
    Toffoli_gate(eng, var[396], var[395], b_in[3])
    CNOT2(eng, var[397], var[393], var[396])
    CNOT2(eng, var[398], var[246], var[20])
    CNOT2(eng, var[399], var[398], var[87])
    Toffoli_gate(eng, var[400], var[399], b_in[1])
    CNOT2(eng, var[401], var[397], var[400])
    Toffoli_gate(eng, var[402], var[347], var[382])
    CNOT2(eng, var[403], var[402], var[339])
    OR_gate(eng, var[404], var[213], b_in[5])
    CNOT2(eng, var[405], var[403], var[404])
    XCNOT(eng, var[406], out[4])
    CNOT2(eng, var[407], var[119], b_in[6])
    CNOT2(eng, var[408], var[407], var[355])
    OR_gate(eng, var[409], var[408], b_in[4])
    CNOT2(eng, var[410], var[406], var[409])
    Toffoli_gate(eng, var[411], var[410], b_in[1])
    CNOT2(eng, var[412], var[405], var[411])
    Toffoli_gate(eng, var[413], var[412], b_in[0])
    CNOT2(eng, var[414], var[401], var[413])
    OR_gate(eng, var[415], var[414], b_in[2])
    CNOT2(eng, out[2], var[391], var[415])

def Tof_x_Tof_x(eng, c, a, b):
    Toffoli_gate(eng, c, a, b)
    X | a
    X | b
    Toffoli_gate(eng, c, a, b)
    X | a
    X | b

def AES_Sbox4(eng, b_in, var, out):
    Tof_x_Tof_x(eng, var[8], b_in[7], b_in[5])
    Tof_x_Tof_x(eng, var[9], var[8], b_in[2])
    Toffoli_gate(eng, var[10], var[9], b_in[5])
    CNOT2(eng, var[11], var[10], var[8])
    OR_gate(eng, var[12], var[11], b_in[4])
    CNOT2(eng, var[13], var[9], var[12])
    Tof_x_Tof_x(eng, var[14], var[9], b_in[4])
    CNOT2(eng, var[15], var[14], var[12])
    OR_gate(eng, var[16], var[11], b_in[7])
    CNOT2(eng, var[17], var[15], var[16])
    Toffoli_gate(eng, var[18], var[17], b_in[3])
    CNOT2(eng, var[19], var[13], var[18])
    Tof_x_Tof_x(eng, var[20], b_in[7], var[18])
    Toffoli_gate(eng, var[21], var[20], var[14])
    XCNOT(eng, var[22], b_in[3])
    Toffoli_gate(eng, var[23], var[22], b_in[2])
    CNOT2(eng, var[24], var[21], var[23])
    Toffoli_gate(eng, var[25], var[24], b_in[2])
    Tof_x_Tof_x(eng, var[26], var[25], var[18])
    Toffoli_gate(eng, var[27], var[26], b_in[4])
    CNOT2(eng, var[28], var[24], var[27])
    Toffoli_gate(eng, var[29], var[28], b_in[6])
    CNOT2(eng, var[30], var[19], var[29])
    Toffoli_gate(eng, var[31], b_in[7], var[19])
    Tof_x_Tof_x(eng, var[32], var[31], b_in[1])
    OR_gate(eng, var[33], var[14], b_in[3])
    CNOT2(eng, var[34], var[32], var[33])
    Toffoli_gate(eng, var[35], b_in[5], var[30])
    Tof_x_Tof_x(eng, var[36], var[35], var[26])
    Toffoli_gate(eng, var[37], var[36], b_in[2])
    CNOT2(eng, var[38], var[34], var[37])
    Tof_x_Tof_x(eng, var[39], b_in[1], var[17])
    Tof_x_Tof_x(eng, var[40], var[39], var[32])
    OR_gate(eng, var[41], var[40], b_in[5])
    CNOT2(eng, var[42], var[28], var[41])
    Toffoli_gate(eng, var[43], var[42], b_in[6])
    CNOT2(eng, var[44], var[38], var[43])
    OR_gate(eng, var[45], var[44], b_in[0])
    CNOT2(eng, var[46], var[30], var[45])
    CNOT2(eng, var[47], var[34], b_in[2])
    Toffoli_gate(eng, var[48], var[47], var[28])
    Tof_x_Tof_x(eng, var[49], var[47], var[44])
    Toffoli_gate(eng, var[50], var[49], var[34])
    OR_gate(eng, var[51], var[50], b_in[7])
    CNOT2(eng, var[52], var[48], var[51])
    Toffoli_gate(eng, var[53], var[47], var[52])
    Tof_x_Tof_x(eng, var[54], var[53], var[46])
    Tof_x_Tof_x(eng, var[55], var[14], var[49])
    Tof_x_Tof_x(eng, var[56], var[55], b_in[5])
    Toffoli_gate(eng, var[57], var[56], b_in[3])
    CNOT2(eng, var[58], var[54], var[57])
    OR_gate(eng, var[59], var[58], b_in[0])
    CNOT2(eng, var[60], var[52], var[59])
    Tof_x_Tof_x(eng, var[61], var[16], var[37])
    Tof_x_Tof_x(eng, var[62], var[61], var[24])
    Toffoli_gate(eng, var[63], var[62], b_in[3])
    CNOT2(eng, var[64], var[20], var[63])
    Toffoli_gate(eng, var[65], var[22], var[20])
    CNOT2(eng, var[66], var[65], var[12])
    Toffoli_gate(eng, var[67], var[28], var[53])
    CNOT2(eng, var[68], var[67], var[10])
    Toffoli_gate(eng, var[69], var[68], b_in[2])
    CNOT2(eng, var[70], var[66], var[69])
    Toffoli_gate(eng, var[71], var[70], b_in[0])
    CNOT2(eng, var[72], var[64], var[71])
    Toffoli_gate(eng, var[73], var[72], b_in[6])
    CNOT2(eng, var[74], var[60], var[73])
    Toffoli_gate(eng, var[75], var[74], b_in[1])
    CNOT2(eng, out[0], var[46], var[75])
    Toffoli_gate(eng, var[77], var[41], var[38])
    CNOT2(eng, var[78], var[77], var[8])
    Tof_x_Tof_x(eng, var[79], var[17], var[58])
    Toffoli_gate(eng, var[80], var[79], var[41])
    OR_gate(eng, var[81], var[80], b_in[6])
    CNOT2(eng, var[82], var[78], var[81])
    Tof_x_Tof_x(eng, var[83], var[82], var[74])
    Toffoli_gate(eng, var[84], var[83], var[36])
    Tof_x_Tof_x(eng, var[85], var[57], var[74])
    Tof_x_Tof_x(eng, var[86], var[85], var[70])
    Toffoli_gate(eng, var[87], var[86], b_in[5])
    CNOT2(eng, var[88], var[84], var[87])
    OR_gate(eng, var[89], var[88], b_in[0])
    CNOT2(eng, var[90], var[82], var[89])
    Toffoli_gate(eng, var[91], var[66], var[11])
    CNOT2(eng, var[92], var[91], var[44])
    Tof_x_Tof_x(eng, var[93], var[18], var[83])
    CNOT2(eng, var[94], var[93], var[33])
    Toffoli_gate(eng, var[95], var[94], b_in[0])
    CNOT2(eng, var[96], var[92], var[95])
    Tof_x_Tof_x(eng, var[97], var[69], var[74])
    Tof_x_Tof_x(eng, var[98], var[97], var[84])
    Toffoli_gate(eng, var[99], var[98], b_in[6])
    CNOT2(eng, var[100], var[96], var[99])
    Toffoli_gate(eng, var[101], var[100], b_in[4])
    CNOT2(eng, var[102], var[90], var[101])
    Toffoli_gate(eng, var[103], var[56], var[10])
    CNOT2(eng, var[104], var[103], var[19])
    Toffoli_gate(eng, var[105], var[104], b_in[6])
    CNOT2(eng, var[106], var[68], var[105])
    Tof_x_Tof_x(eng, var[107], var[30], var[17])
    CNOT2(eng, var[108], var[107], var[98])
    Toffoli_gate(eng, var[109], var[107], var[45])
    Tof_x_Tof_x(eng, var[110], var[109], var[80])
    Toffoli_gate(eng, var[111], var[110], b_in[2])
    CNOT2(eng, var[112], var[108], var[111])
    OR_gate(eng, var[113], var[112], b_in[5])
    CNOT2(eng, var[114], var[106], var[113])
    Tof_x_Tof_x(eng, var[115], var[69], var[15])
    Tof_x_Tof_x(eng, var[116], var[115], var[22])
    OR_gate(eng, var[117], var[116], b_in[5])
    CNOT2(eng, var[118], var[101], var[117])
    Tof_x_Tof_x(eng, var[119], var[96], var[18])
    Tof_x_Tof_x(eng, var[120], var[119], var[114])
    Tof_x_Tof_x(eng, var[121], var[28], var[100])
    Tof_x_Tof_x(eng, var[122], var[121], var[116])
    OR_gate(eng, var[123], var[122], b_in[2])
    CNOT2(eng, var[124], var[120], var[123])
    OR_gate(eng, var[125], var[124], b_in[4])
    CNOT2(eng, var[126], var[118], var[125])
    Toffoli_gate(eng, var[127], var[126], b_in[0])
    CNOT2(eng, var[128], var[114], var[127])
    Toffoli_gate(eng, var[129], var[128], b_in[1])
    CNOT2(eng, out[1], var[102], var[129])
    Toffoli_gate(eng, var[131], var[32], var[121])
    CNOT2(eng, var[132], var[131], var[21])
    Toffoli_gate(eng, var[133], var[26], var[120])
    Tof_x_Tof_x(eng, var[134], var[133], var[107])
    Toffoli_gate(eng, var[135], var[134], b_in[1])
    CNOT2(eng, var[136], var[132], var[135])
    Tof_x_Tof_x(eng, var[137], var[103], var[88])
    CNOT2(eng, var[138], var[137], var[115])
    Toffoli_gate(eng, var[139], var[138], b_in[1])
    CNOT2(eng, var[140], var[122], var[139])
    OR_gate(eng, var[141], var[140], b_in[6])
    CNOT2(eng, var[142], var[136], var[141])
    CNOT2(eng, var[143], var[133], var[70])
    Toffoli_gate(eng, var[144], var[143], var[49])
    CNOT2(eng, var[145], var[78], var[52])
    Toffoli_gate(eng, var[146], var[145], var[73])
    OR_gate(eng, var[147], var[146], b_in[7])
    CNOT2(eng, var[148], var[133], var[147])
    OR_gate(eng, var[149], var[148], b_in[3])
    CNOT2(eng, var[150], var[144], var[149])
    OR_gate(eng, var[151], var[150], b_in[4])
    CNOT2(eng, var[152], var[142], var[151])
    Tof_x_Tof_x(eng, var[153], var[70], var[149])
    Tof_x_Tof_x(eng, var[154], var[153], var[58])
    XCNOT(eng, var[155], var[73])
    Toffoli_gate(eng, var[156], var[155], b_in[4])
    CNOT2(eng, var[157], var[154], var[156])
    Tof_x_Tof_x(eng, var[158], b_in[4], var[88])
    Tof_x_Tof_x(eng, var[159], var[158], var[80])
    Toffoli_gate(eng, var[160], var[159], var[100])
    CNOT2(eng, var[161], var[160], var[118])
    Toffoli_gate(eng, var[162], var[161], b_in[1])
    CNOT2(eng, var[163], var[159], var[162])
    OR_gate(eng, var[164], var[163], b_in[5])
    CNOT2(eng, var[165], var[157], var[164])
    Tof_x_Tof_x(eng, var[166], var[122], var[93])
    Toffoli_gate(eng, var[167], var[166], var[78])
    OR_gate(eng, var[168], var[167], b_in[5])
    CNOT2(eng, var[169], var[82], var[168])
    Toffoli_gate(eng, var[170], var[155], var[138])
    CNOT2(eng, var[171], var[170], var[64])
    Toffoli_gate(eng, var[172], var[62], b_in[7])
    CNOT2(eng, var[173], var[171], var[172])
    Toffoli_gate(eng, var[174], var[173], b_in[1])
    CNOT2(eng, var[175], var[169], var[174])
    Toffoli_gate(eng, var[176], var[175], b_in[2])
    CNOT2(eng, var[177], var[165], var[176])
    Toffoli_gate(eng, var[178], var[177], b_in[0])
    CNOT2(eng, out[5], var[152], var[178])
    CNOT2(eng, var[180], var[62], var[153])
    Toffoli_gate(eng, var[181], var[180], var[41])
    Toffoli_gate(eng, var[182], var[35], b_in[7])
    CNOT2(eng, var[183], var[181], var[182])
    Tof_x_Tof_x(eng, var[184], var[53], var[133])
    Tof_x_Tof_x(eng, var[185], var[184], var[183])
    Toffoli_gate(eng, var[186], var[151], var[50])
    Tof_x_Tof_x(eng, var[187], var[186], var[183])
    Toffoli_gate(eng, var[188], var[187], b_in[2])
    CNOT2(eng, var[189], var[185], var[188])
    Toffoli_gate(eng, var[190], var[189], b_in[1])
    CNOT2(eng, var[191], var[183], var[190])
    Toffoli_gate(eng, var[192], var[79], var[119])
    Tof_x_Tof_x(eng, var[193], var[192], var[147])
    Toffoli_gate(eng, var[194], var[147], var[125])
    Tof_x_Tof_x(eng, var[195], var[194], var[33])
    Toffoli_gate(eng, var[196], var[195], b_in[1])
    CNOT2(eng, var[197], var[193], var[196])
    Tof_x_Tof_x(eng, var[198], var[103], var[143])
    Tof_x_Tof_x(eng, var[199], var[198], var[111])
    Toffoli_gate(eng, var[200], var[199], b_in[5])
    CNOT2(eng, var[201], var[197], var[200])
    Toffoli_gate(eng, var[202], var[201], b_in[0])
    CNOT2(eng, var[203], var[191], var[202])
    Toffoli_gate(eng, var[204], var[102], var[46])
    CNOT2(eng, var[205], var[204], var[201])
    Tof_x_Tof_x(eng, var[206], var[193], var[185])
    Tof_x_Tof_x(eng, var[207], var[206], var[164])
    Toffoli_gate(eng, var[208], var[207], b_in[0])
    CNOT2(eng, var[209], var[205], var[208])
    Tof_x_Tof_x(eng, var[210], var[50], var[102])
    CNOT2(eng, var[211], var[210], var[152])
    Toffoli_gate(eng, var[212], var[211], b_in[0])
    CNOT2(eng, var[213], var[193], var[212])
    Toffoli_gate(eng, var[214], var[213], b_in[6])
    CNOT2(eng, var[215], var[209], var[214])
    XCNOT(eng, var[216], var[206])
    Tof_x_Tof_x(eng, var[217], var[164], var[107])
    CNOT2(eng, var[218], var[217], var[215])
    OR_gate(eng, var[219], var[218], b_in[0])
    CNOT2(eng, var[220], var[216], var[219])
    Toffoli_gate(eng, var[221], out[5], var[89])
    CNOT2(eng, var[222], var[221], var[86])
    Toffoli_gate(eng, var[223], var[222], b_in[4])
    CNOT2(eng, var[224], var[220], var[223])
    Toffoli_gate(eng, var[225], var[224], b_in[7])
    CNOT2(eng, var[226], var[215], var[225])
    Toffoli_gate(eng, var[227], var[226], b_in[3])
    CNOT2(eng, out[2], var[203], var[227])
    Tof_x_Tof_x(eng, var[229], var[105], var[50])
    Tof_x_Tof_x(eng, var[230], var[229], var[182])
    Tof_x_Tof_x(eng, var[231], var[120], var[192])
    Tof_x_Tof_x(eng, var[232], var[231], var[171])
    Toffoli_gate(eng, var[233], var[232], b_in[0])
    CNOT2(eng, var[234], var[230], var[233])
    Toffoli_gate(eng, var[235], var[66], var[158])
    CNOT2(eng, var[236], var[235], var[119])
    OR_gate(eng, var[237], var[236], b_in[0])
    CNOT2(eng, var[238], var[105], var[237])
    OR_gate(eng, var[239], var[238], b_in[4])
    CNOT2(eng, var[240], var[234], var[239])
    Tof_x_Tof_x(eng, var[241], var[224], var[132])
    Toffoli_gate(eng, var[242], var[241], var[16])
    XCNOT(eng, var[243], var[57])
    OR_gate(eng, var[244], var[243], b_in[4])
    CNOT2(eng, var[245], var[242], var[244])
    Toffoli_gate(eng, var[246], var[238], var[219])
    CNOT2(eng, var[247], var[246], var[217])
    OR_gate(eng, var[248], var[247], b_in[2])
    CNOT2(eng, var[249], var[245], var[248])
    Toffoli_gate(eng, var[250], var[249], b_in[1])
    CNOT2(eng, var[251], var[240], var[250])
    Toffoli_gate(eng, var[252], var[42], var[45])
    CNOT2(eng, var[253], var[252], var[75])
    OR_gate(eng, var[254], var[253], b_in[3])
    CNOT2(eng, var[255], var[104], var[254])
    Tof_x_Tof_x(eng, var[256], var[216], var[247])
    CNOT2(eng, var[257], var[256], var[199])
    Toffoli_gate(eng, var[258], var[257], b_in[4])
    CNOT2(eng, var[259], var[92], var[258])
    Toffoli_gate(eng, var[260], var[259], b_in[2])
    CNOT2(eng, var[261], var[255], var[260])
    Tof_x_Tof_x(eng, var[262], var[13], var[80])
    CNOT2(eng, var[263], var[262], var[164])
    XCNOT(eng, var[264], var[24])
    Tof_x_Tof_x(eng, var[265], var[247], var[240])
    Tof_x_Tof_x(eng, var[266], var[265], var[133])
    Toffoli_gate(eng, var[267], var[266], b_in[0])
    CNOT2(eng, var[268], var[264], var[267])
    OR_gate(eng, var[269], var[268], b_in[1])
    CNOT2(eng, var[270], var[263], var[269])
    Toffoli_gate(eng, var[271], var[270], b_in[7])
    CNOT2(eng, var[272], var[261], var[271])
    OR_gate(eng, var[273], var[272], b_in[6])
    CNOT2(eng, out[3], var[251], var[273])
    Tof_x_Tof_x(eng, var[275], var[102], var[163])
    Tof_x_Tof_x(eng, var[276], var[275], var[249])
    Tof_x_Tof_x(eng, var[277], var[67], var[9])
    CNOT2(eng, var[278], var[277], var[224])
    Toffoli_gate(eng, var[279], var[278], b_in[1])
    CNOT2(eng, var[280], var[276], var[279])
    Toffoli_gate(eng, var[281], var[154], var[88])
    Tof_x_Tof_x(eng, var[282], var[281], var[143])
    OR_gate(eng, var[283], var[282], b_in[3])
    CNOT2(eng, var[284], var[280], var[283])
    Tof_x_Tof_x(eng, var[285], var[185], var[276])
    Toffoli_gate(eng, var[286], var[285], var[239])
    Tof_x_Tof_x(eng, var[287], var[151], var[258])
    CNOT2(eng, var[288], var[287], var[224])
    Toffoli_gate(eng, var[289], out[1], var[119])
    CNOT2(eng, var[290], var[289], var[257])
    Toffoli_gate(eng, var[291], var[290], b_in[1])
    CNOT2(eng, var[292], var[288], var[291])
    Toffoli_gate(eng, var[293], var[292], b_in[3])
    CNOT2(eng, var[294], var[286], var[293])
    OR_gate(eng, var[295], var[294], b_in[5])
    CNOT2(eng, var[296], var[284], var[295])
    Tof_x_Tof_x(eng, var[297], var[241], var[247])
    CNOT2(eng, var[298], var[297], var[117])
    OR_gate(eng, var[299], var[252], b_in[2])
    CNOT2(eng, var[300], var[298], var[299])
    OR_gate(eng, var[301], var[110], b_in[6])
    CNOT2(eng, var[302], var[260], var[301])
    OR_gate(eng, var[303], var[302], b_in[4])
    CNOT2(eng, var[304], var[300], var[303])
    Toffoli_gate(eng, var[305], var[132], var[122])
    Tof_x_Tof_x(eng, var[306], var[305], b_in[2])
    Toffoli_gate(eng, var[307], var[34], var[226])
    Tof_x_Tof_x(eng, var[308], var[307], b_in[0])
    Toffoli_gate(eng, var[309], var[308], b_in[1])
    CNOT2(eng, var[310], var[306], var[309])
    Toffoli_gate(eng, var[311], var[55], var[107])
    CNOT2(eng, var[312], var[311], var[78])
    XCNOT(eng, var[313], var[105])
    OR_gate(eng, var[314], var[313], b_in[1])
    CNOT2(eng, var[315], var[312], var[314])
    Toffoli_gate(eng, var[316], var[315], b_in[4])
    CNOT2(eng, var[317], var[310], var[316])
    Toffoli_gate(eng, var[318], var[317], b_in[7])
    CNOT2(eng, var[319], var[304], var[318])
    OR_gate(eng, var[320], var[319], b_in[0])
    CNOT2(eng, out[6], var[296], var[320])
    Tof_x_Tof_x(eng, var[322], var[198], var[87])
    Toffoli_gate(eng, var[323], var[322], var[49])
    Tof_x_Tof_x(eng, var[324], var[109], var[256])
    CNOT2(eng, var[325], var[324], var[189])
    Toffoli_gate(eng, var[326], var[255], var[187])
    Tof_x_Tof_x(eng, var[327], var[326], var[176])
    Toffoli_gate(eng, var[328], var[327], b_in[1])
    CNOT2(eng, var[329], var[325], var[328])
    OR_gate(eng, var[330], var[329], b_in[0])
    CNOT2(eng, var[331], var[323], var[330])
    Tof_x_Tof_x(eng, var[332], var[284], var[265])
    CNOT2(eng, var[333], var[332], var[54])
    XCNOT(eng, var[334], var[330])
    Toffoli_gate(eng, var[335], var[334], b_in[6])
    CNOT2(eng, var[336], var[333], var[335])
    CNOT2(eng, var[337], var[90], var[325])
    Toffoli_gate(eng, var[338], var[337], var[312])
    Toffoli_gate(eng, var[339], var[338], b_in[7])
    CNOT2(eng, var[340], var[336], var[339])
    OR_gate(eng, var[341], var[340], b_in[3])
    CNOT2(eng, var[342], var[331], var[341])
    Toffoli_gate(eng, var[343], var[119], var[173])
    Tof_x_Tof_x(eng, var[344], var[343], var[126])
    Toffoli_gate(eng, var[345], var[102], b_in[1])
    CNOT2(eng, var[346], var[344], var[345])
    Tof_x_Tof_x(eng, var[347], out[6], var[204])
    Toffoli_gate(eng, var[348], var[347], var[32])
    OR_gate(eng, var[349], var[348], b_in[7])
    CNOT2(eng, var[350], var[346], var[349])
    Toffoli_gate(eng, var[351], var[350], var[199])
    CNOT2(eng, var[352], var[351], var[294])
    OR_gate(eng, var[353], var[352], b_in[4])
    CNOT2(eng, var[354], var[161], var[353])
    Tof_x_Tof_x(eng, var[355], var[157], var[180])
    CNOT2(eng, var[356], var[355], var[271])
    OR_gate(eng, var[357], var[342], b_in[4])
    CNOT2(eng, var[358], var[356], var[357])
    OR_gate(eng, var[359], var[358], b_in[0])
    CNOT2(eng, var[360], var[354], var[359])
    Toffoli_gate(eng, var[361], var[360], b_in[6])
    CNOT2(eng, var[362], var[350], var[361])
    OR_gate(eng, var[363], var[362], b_in[2])
    CNOT2(eng, out[4], var[342], var[363])
    Tof_x_Tof_x(eng, var[365], var[359], var[122])
    Tof_x_Tof_x(eng, var[366], var[365], out[1])
    OR_gate(eng, var[367], var[366], b_in[4])
    CNOT2(eng, var[368], var[136], var[367])
    Tof_x_Tof_x(eng, var[369], var[181], var[339])
    CNOT2(eng, var[370], var[369], var[150])
    OR_gate(eng, var[371], var[370], b_in[1])
    CNOT2(eng, var[372], var[368], var[371])
    Tof_x_Tof_x(eng, var[373], var[224], var[184])
    CNOT2(eng, var[374], var[373], var[342])
    Tof_x_Tof_x(eng, var[375], var[284], var[184])
    CNOT2(eng, var[376], var[375], var[100])
    Tof_x_Tof_x(eng, var[377], var[26], var[351])
    CNOT2(eng, var[378], var[377], var[308])
    Toffoli_gate(eng, var[379], var[378], b_in[1])
    CNOT2(eng, var[380], var[376], var[379])
    OR_gate(eng, var[381], var[380], b_in[7])
    CNOT2(eng, var[382], var[374], var[381])
    Toffoli_gate(eng, var[383], var[382], b_in[0])
    CNOT2(eng, var[384], var[372], var[383])
    Tof_x_Tof_x(eng, var[385], var[282], var[292])
    Toffoli_gate(eng, var[386], var[385], var[268])
    Toffoli_gate(eng, var[387], var[199], var[372])
    Tof_x_Tof_x(eng, var[388], var[387], b_in[0])
    Toffoli_gate(eng, var[389], var[204], b_in[7])
    CNOT2(eng, var[390], var[388], var[389])
    Toffoli_gate(eng, var[391], var[390], b_in[4])
    CNOT2(eng, var[392], var[386], var[391])
    CNOT2(eng, var[393], var[276], var[304])
    Toffoli_gate(eng, var[394], var[393], var[36])
    Toffoli_gate(eng, var[395], var[394], b_in[0])
    CNOT2(eng, var[396], var[204], var[395])
    Tof_x_Tof_x(eng, var[397], var[202], var[333])
    CNOT2(eng, var[398], var[397], var[58])
    XCNOT(eng, var[399], var[290])
    Toffoli_gate(eng, var[400], var[399], b_in[2])
    CNOT2(eng, var[401], var[398], var[400])
    OR_gate(eng, var[402], var[401], b_in[4])
    CNOT2(eng, var[403], var[396], var[402])
    OR_gate(eng, var[404], var[403], b_in[6])
    CNOT2(eng, var[405], var[392], var[404])
    Toffoli_gate(eng, var[406], var[405], b_in[5])
    CNOT2(eng, out[7], var[384], var[406])

global resource_check

resource_check = 0
Resource = ClassicalSimulator()
eng = MainEngine(Resource)
Sbox(eng)
eng.flush()
print()

resource_check = 1
Resource = ResourceCounter()
eng = MainEngine(Resource)
Sbox(eng)
print(Resource)
eng.flush()